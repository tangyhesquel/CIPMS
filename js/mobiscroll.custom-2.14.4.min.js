(function(a){a.widget&&(a.widget("mobile.jqmMobiscroll",a.mobile.widget,{options:{theme:"jqm",preset:"date",animate:"pop"},_create:function(){var w=this.element,m=a.extend(this.options,w.jqmData("options"));w.mobiscroll(m)}}),a(document).on("pagecreate",function(w){a(':jqmData(role="mobiscroll")',w.target).each(function(){a(this).jqmMobiscroll()})}))})(jQuery);(function(a,w){function m(a){for(var f in a)if(s[a[f]]!==w)return!0;return!1}function k(d,f,k){var m=d;if("object"===typeof f)return d.each(function(){this.id||(this.id="mobiscroll"+ ++g);A[this.id]&&A[this.id].destroy();new a.mobiscroll.classes[f.component||"Scroller"](this,f)});"string"===typeof f&&d.each(function(){var a;if((a=A[this.id])&&a[f])if(a=a[f].apply(this,Array.prototype.slice.call(k,1)),a!==w)return m=a,!1});return m}var g=+new Date,A={},J=a.extend,s=document.createElement("modernizr").style,
x=m(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),M=m(["flex","msFlex","WebkitBoxDirection"]),d=function(){var a=["Webkit","Moz","O","ms"],f;for(f in a)if(m([a[f]+"Transform"]))return"-"+a[f].toLowerCase()+"-";return""}(),N=d.replace(/^\-/,"").replace(/\-$/,"").replace("moz","Moz");a.fn.mobiscroll=function(d){J(this,a.mobiscroll.components);return k(this,d,arguments)};a.mobiscroll=a.mobiscroll||{version:"2.14.4",util:{prefix:d,jsPrefix:N,has3d:x,hasFlex:M,
testTouch:function(d,f){if("touchstart"==d.type)a(f).attr("data-touch","1");else if(a(f).attr("data-touch"))return a(f).removeAttr("data-touch"),!1;return!0},objectToArray:function(a){var f=[],d;for(d in a)f.push(a[d]);return f},arrayToObject:function(a){var f={},d;if(a)for(d=0;d<a.length;d++)f[a[d]]=a[d];return f},isNumeric:function(a){return 0<=a-parseFloat(a)},isString:function(a){return"string"===typeof a},getCoord:function(a,f){var d=a.originalEvent||a;return d.changedTouches?d.changedTouches[0]["page"+
f]:a["page"+f]},getPosition:function(d,f){var g=window.getComputedStyle?getComputedStyle(d[0]):d[0].style,m,k;x?(a.each(["t","webkitT","MozT","OT","msT"],function(a,f){if(g[f+"ransform"]!==w)return m=g[f+"ransform"],!1}),m=m.split(")")[0].split(", "),k=f?m[13]||m[5]:m[12]||m[4]):k=f?g.top.replace("px",""):g.left.replace("px","");return k},constrain:function(a,f,d){return Math.max(f,Math.min(a,d))}},tapped:!1,presets:{scroller:{},numpad:{}},themes:{listview:{},menustrip:{}},i18n:{},instances:A,classes:{},
components:{},defaults:{theme:"mobiscroll",context:"body"},userdef:{},setDefaults:function(a){J(this.userdef,a)},presetShort:function(a,f,d){this.components[a]=function(m){return k(this,J(m,{component:f,preset:!1===d?w:a}),arguments)}}}})(jQuery);(function(a){a.mobiscroll.i18n.zh=a.extend(a.mobiscroll.i18n.zh,{setText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",clearText:"\u660e\u786e",selectedText:"\u9009",dateFormat:"yy/mm/dd",dateOrder:"yymmdd",dayNames:"\u5468\u65e5,\u5468\u4e00,\u5468\u4e8c,\u5468\u4e09,\u5468\u56db,\u5468\u4e94,\u5468\u516d".split(","),dayNamesShort:"\u65e5,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d".split(","),dayNamesMin:"\u65e5,\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d".split(","),dayText:"\u65e5",hourText:"\u65f6",minuteText:"\u5206",
monthNames:"1\u6708,2\u6708,3\u6708,4\u6708,5\u6708,6\u6708,7\u6708,8\u6708,9\u6708,10\u6708,11\u6708,12\u6708".split(","),monthNamesShort:"\u4e00,\u4e8c,\u4e09,\u56db,\u4e94,\u516d,\u4e03,\u516b,\u4e5d,\u5341,\u5341\u4e00,\u5341\u4e8c".split(","),monthText:"\u6708",secText:"\u79d2",timeFormat:"HH:ii",timeWheels:"HHii",yearText:"\u5e74",nowText:"\u5f53\u524d",pmText:"\u4e0b\u5348",amText:"\u4e0a\u5348",dateText:"\u65e5",timeText:"\u65f6\u95f4",calendarText:"\u65e5\u5386",closeText:"\u5173\u95ed",
fromText:"\u5f00\u59cb\u65f6\u95f4",toText:"\u7ed3\u675f\u65f6\u95f4",wholeText:"\u5408\u8ba1",fractionText:"\u5206\u6570",unitText:"\u5355\u4f4d",labels:"\u5e74,\u6708,\u65e5,\u5c0f\u65f6,\u5206\u949f,\u79d2,".split(","),labelsShort:"\u5e74,\u6708,\u65e5,\u70b9,\u5206,\u79d2,".split(","),startText:"\u5f00\u59cb",stopText:"\u505c\u6b62",resetText:"\u91cd\u7f6e",lapText:"\u5708",hideText:"\u9690\u85cf"})})(jQuery);(function(a,w,m,k){var g,A,J=a.extend,s=a.mobiscroll,x=s.instances,M=s.userdef,d=s.util,N=d.jsPrefix,qa=d.has3d,f=d.getCoord,ka=d.constrain,ca=d.isString,ma=/android [1-3]/i.test(navigator.userAgent),$=function(){},Q=function(a){a.preventDefault()};s.classes.Widget=function(d,r,C){function ea(c){O&&O.removeClass("dwb-a");O=a(this);!O.hasClass("dwb-d")&&!O.hasClass("dwb-nhl")&&O.addClass("dwb-a");if("mousedown"===c.type)a(m).on("mouseup",G)}function G(c){O&&(O.removeClass("dwb-a"),O=null);"mouseup"===
c.type&&a(m).off("mouseup",G)}function p(a){13==a.keyCode?c.select():27==a.keyCode&&c.cancel()}function W(b){var d,t,B,f=e.focusOnClose;y.remove();g&&!b&&setTimeout(function(){if(f===k||!0===f){A=!0;d=g[0];B=d.type;t=d.value;try{d.type="button"}catch(c){}g.focus();d.type=B;d.value=t}else f&&(x[a(f).attr("id")]&&(s.tapped=!1),a(f).focus())},200);c._isVisible=!1;F("onHide",[])}function H(a){clearTimeout(h[a.type]);h[a.type]=setTimeout(function(){var b="scroll"==a.type;(!b||ja)&&c.position(!b)},200)}
function R(b){s.tapped||(b&&b(),a(m.activeElement).is("input,textarea")&&a(m.activeElement).blur(),g=fa,c.show());setTimeout(function(){A=false},300)}function F(b,f){var t;f.push(c);a.each([M,v,I,r],function(a,c){c&&c[b]&&(t=c[b].apply(d,f))});return t}var na,la,P,y,o,u,da,X,i,z,O,S,l,n,E,Y,b,q,I,Z,e,ja,T,v,U,K,oa,c=this,fa=a(d),D=[],h={};c.position=function(d){var f,t,B,h,g,q,o,aa,l,I,s=0,p=0;l={};var r=Math.min(X[0].innerWidth||X.innerWidth(),u.width()),C=X[0].innerHeight||X.innerHeight();if(!(K===
r&&oa===C&&d||Z))if((c._isFullScreen||/top|bottom/.test(e.display))&&da.width(r),!1!==F("onPosition",[y,r,C])&&n){t=X.scrollLeft();d=X.scrollTop();h=e.anchor===k?fa:a(e.anchor);c._isLiquid&&"liquid"!==e.layout&&(400>r?y.addClass("dw-liq"):y.removeClass("dw-liq"));!c._isFullScreen&&/modal|bubble/.test(e.display)&&(i.width(""),a(".mbsc-w-p",y).each(function(){f=a(this).outerWidth(!0);s+=f;p=f>p?f:p}),f=s>r?p:s,i.width(f).css("white-space",s>r?"":"nowrap"));Y=c._isFullScreen?r:da.outerWidth();b=c._isFullScreen?
C:da.outerHeight(!0);ja=b<=C&&Y<=r;c.scrollLock=ja;"modal"==e.display?(t=Math.max(0,t+(r-Y)/2),B=d+(C-b)/2):"bubble"==e.display?(I=!0,aa=a(".dw-arrw-i",y),B=h.offset(),q=Math.abs(la.offset().top-B.top),o=Math.abs(la.offset().left-B.left),g=h.outerWidth(),h=h.outerHeight(),t=ka(o-(da.outerWidth(!0)-g)/2,t+3,t+r-Y-3),B=q-b,B<d||q>d+C?(da.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),B=q+h):da.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),aa=aa.outerWidth(),g=ka(o+g/2-(t+(Y-aa)/
2),0,aa),a(".dw-arr",y).css({left:g})):"top"==e.display?B=d:"bottom"==e.display&&(B=d+C-b);B=0>B?0:B;l.top=B;l.left=t;da.css(l);u.height(0);l=Math.max(B+b,"body"==e.context?a(m).height():la[0].scrollHeight);u.css({height:l});if(I&&(B+b>d+C||q>d+C))Z=!0,setTimeout(function(){Z=false},300),X.scrollTop(Math.min(B+b-C,l-C));K=r;oa=C}};c.attachShow=function(a,b){D.push(a);if("inline"!==e.display){if(T)a.on("mousedown.dw",function(a){a.preventDefault()});if(e.showOnFocus)a.on("focus.dw",function(){A||R(b)});
e.showOnTap&&c.tap(a,function(){R(b)})}};c.select=function(){if(!n||!1!==c.hide(!1,"set"))c._fillValue(),F("onSelect",[c._value])};c.cancel=function(){(!n||!1!==c.hide(!1,"cancel"))&&F("onCancel",[c._value])};c.clear=function(){F("onClear",[y]);n&&!c.live&&c.hide(!1,"clear");c.setValue(null,!0)};c.enable=function(){e.disabled=!1;c._isInput&&fa.prop("disabled",!1)};c.disable=function(){e.disabled=!0;c._isInput&&fa.prop("disabled",!0)};c.show=function(b,d){var t;if(!e.disabled&&!c._isVisible){!1!==
S&&("top"==e.display&&(S="slidedown"),"bottom"==e.display&&(S="slideup"));c._readValue();F("onBeforeShow",[]);t='<div lang="'+e.lang+'" class="mbsc-'+e.theme+(e.baseTheme?" mbsc-"+e.baseTheme:"")+" dw-"+e.display+" "+(e.cssClass||"")+(c._isLiquid?" dw-liq":"")+(ma?" mbsc-old":"")+(l?"":" dw-nobtn")+'"><div class="dw-persp">'+(n?'<div class="dwo"></div>':"")+"<div"+(n?' role="dialog" tabindex="-1"':"")+' class="dw'+(e.rtl?" dw-rtl":" dw-ltr")+'">'+("bubble"===e.display?'<div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div>':
"")+'<div class="dwwr"><div aria-live="assertive" class="dw-aria dw-hidden"></div>'+(e.headerText?'<div class="dwv">'+(ca(e.headerText)?e.headerText:"")+"</div>":"")+'<div class="dwcc">';t+=c._generateContent();t+="</div>";l&&(t+='<div class="dwbc">',a.each(z,function(a,b){b=ca(b)?c.buttons[b]:b;if(b.handler==="set")b.parentClass="dwb-s";if(b.handler==="cancel")b.parentClass="dwb-c";b.handler=ca(b.handler)?c.handlers[b.handler]:b.handler;t=t+("<div"+(e.btnWidth?' style="width:'+100/z.length+'%"':
"")+' class="dwbw '+(b.parentClass||"")+'"><div tabindex="0" role="button" class="dwb'+a+" dwb-e "+(b.cssClass===k?e.btnClass:b.cssClass)+(b.icon?" mbsc-ic mbsc-ic-"+b.icon:"")+'">'+(b.text||"")+"</div></div>")}),t+="</div>");t+="</div></div></div></div>";y=a(t);u=a(".dw-persp",y);o=a(".dwo",y);i=a(".dwwr",y);P=a(".dwv",y);da=a(".dw",y);na=a(".dw-aria",y);c._markup=y;c._header=P;c._isVisible=!0;q="orientationchange resize";c._markupReady();F("onMarkupReady",[y]);if(n){a(w).on("keydown",p);if(e.scrollLock)y.on("touchmove mousewheel DOMMouseScroll",
function(a){ja&&a.preventDefault()});"Moz"!==N&&a("input,select,button",la).each(function(){this.disabled||a(this).addClass("dwtd").prop("disabled",true)});q+=" scroll";s.activeInstance=c;y.appendTo(la);qa&&S&&!b&&y.addClass("dw-in dw-trans").on("webkitAnimationEnd animationend",function(){y.off("webkitAnimationEnd animationend").removeClass("dw-in dw-trans").find(".dw").removeClass("dw-"+S);d||da.focus();c.ariaMessage(e.ariaMessage)}).find(".dw").addClass("dw-"+S)}else fa.is("div")?fa.html(y):y.insertAfter(fa);
F("onMarkupInserted",[y]);c.position();X.on(q,H);y.on("selectstart mousedown",Q).on("click",".dwb-e",Q).on("keydown",".dwb-e",function(b){if(b.keyCode==32){b.preventDefault();b.stopPropagation();a(this).click()}});setTimeout(function(){a.each(z,function(b,t){c.tap(a(".dwb"+b,y),function(a){t=ca(t)?c.buttons[t]:t;t.handler.call(this,a,c)},true)});e.closeOnOverlay&&c.tap(o,function(){c.cancel()});if(n&&!S){d||da.focus();c.ariaMessage(e.ariaMessage)}y.on("touchstart mousedown",".dwb-e",ea).on("touchend",
".dwb-e",G);c._attachEvents(y)},300);F("onShow",[y,c._tempValue])}};c.hide=function(b,d,t){if(!c._isVisible||!t&&!c._isValid&&"set"==d||!t&&!1===F("onClose",[c._tempValue,d]))return!1;if(y){"Moz"!==N&&a(".dwtd",la).each(function(){a(this).prop("disabled",!1).removeClass("dwtd")});if(qa&&n&&S&&!b&&!y.hasClass("dw-trans"))y.addClass("dw-out dw-trans").find(".dw").addClass("dw-"+S).on("webkitAnimationEnd animationend",function(){W(b)});else W(b);X.off(q,H)}n&&(a(w).off("keydown",p),delete s.activeInstance)};
c.ariaMessage=function(a){na.html("");setTimeout(function(){na.html(a)},100)};c.isVisible=function(){return c._isVisible};c.setValue=$;c._generateContent=$;c._attachEvents=$;c._readValue=$;c._fillValue=$;c._markupReady=$;c._processSettings=$;c.tap=function(a,b,t){var c,d,h;if(e.tap)a.on("touchstart.dw",function(a){t&&a.preventDefault();c=f(a,"X");d=f(a,"Y");h=!1}).on("touchmove.dw",function(a){if(20<Math.abs(f(a,"X")-c)||20<Math.abs(f(a,"Y")-d))h=!0}).on("touchend.dw",function(a){h||(a.preventDefault(),
b.call(this,a));s.tapped=!0;setTimeout(function(){s.tapped=false},500)});a.on("click.dw",function(a){s.tapped||b.call(this,a);a.preventDefault()})};c.option=function(a,b){var t={};"object"===typeof a?t=a:t[a]=b;c.init(t)};c.destroy=function(){c.hide(!0,!1,!0);a.each(D,function(a,b){b.off(".dw")});c._isInput&&T&&(d.readOnly=U);F("onDestroy",[]);delete x[d.id];c=null};c.getInst=function(){return c};c.trigger=F;c.init=function(b){c.settings=e={};J(r,b);J(e,s.defaults,c._defaults,M,r);v=s.themes[e.theme]||
s.themes.mobiscroll;E=s.i18n[e.lang];F("onThemeLoad",[E,r]);J(e,v,E,M,r);I=s.presets[c._class][e.preset];e.buttons=e.buttons||("inline"!==e.display?["set","cancel"]:[]);e.headerText=e.headerText===k?"inline"!==e.display?"{value}":!1:e.headerText;I&&(I=I.call(d,c),J(e,I,r));s.themes[e.theme]||(e.theme="mobiscroll");c._isLiquid="liquid"===(e.layout||(/top|bottom/.test(e.display)?"liquid":""));c._processSettings();fa.off(".dw");S=ma?!1:e.animate;z=e.buttons;n="inline"!==e.display;T=e.showOnFocus||e.showOnTap;
X=a("body"==e.context?w:e.context);la=a(e.context);c.context=X;c.live=!0;a.each(z,function(a,b){if(b==="set"||b.handler==="set")return c.live=false});c.buttons.set={text:e.setText,handler:"set"};c.buttons.cancel={text:c.live?e.closeText:e.cancelText,handler:"cancel"};c.buttons.clear={text:e.clearText,handler:"clear"};c._isInput=fa.is("input");l=0<z.length;c._isVisible&&c.hide(!0,!1,!0);n?(c._readValue(),c._isInput&&T&&(U===k&&(U=d.readOnly),d.readOnly=!0),c.attachShow(fa)):c.show();fa.on("change.dw",
function(){c._preventChange||c.setVal(fa.val(),true,false);c._preventChange=false});F("onInit",[])};c.buttons={};c.handlers={set:c.select,cancel:c.cancel,clear:c.clear};c._value=null;c._isValid=!0;c._isVisible=!1;C||(x[d.id]=c,c.init(r))};s.classes.Widget.prototype._defaults={lang:"en",setText:"Set",selectedText:"Selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",disabled:!1,closeOnOverlay:!0,showOnFocus:!0,showOnTap:!0,display:"modal",scrollLock:!0,tap:!0,btnClass:"dwb",btnWidth:!0,
focusOnClose:!1};s.themes.mobiscroll={rows:5,showLabel:!1,headerText:!1,btnWidth:!1,selectedLineHeight:!0,selectedLineBorder:1,dateOrder:"MMddyy",weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"};a(w).on("focus",function(){g&&(A=!0)});a(m).on("mouseover mouseup mousedown click",function(a){if(s.tapped)return a.stopPropagation(),
a.preventDefault(),!1})})(jQuery,window,document);(function(a){var w=a.mobile&&a.mobile.version&&a.mobile.version.match(/1\.4/);a.mobiscroll.themes.jqm={jqmBorder:"a",jqmBody:w?"a":"c",jqmHeader:"b",jqmWheel:"d",jqmLine:"b",jqmClickPick:"c",jqmSet:"b",jqmCancel:"c",disabledClass:"ui-disabled",activeClass:"ui-btn-active",activeTabInnerClass:"ui-btn-active",btnCalPrevClass:"",btnCalNextClass:"",selectedLineHeight:!0,selectedLineBorder:1,onThemeLoad:function(a,k){var g=k.jqmBody||"c",A=k.jqmEventText||"b",w=k.jqmEventBubble||"a";k.dayClass="ui-body-a ui-body-"+
g;k.innerDayClass="ui-state-default ui-btn ui-btn-up-"+g;k.calendarClass="ui-body-a ui-body-"+g;k.weekNrClass="ui-body-a ui-body-"+g;k.eventTextClass="ui-btn-up-"+A;k.eventBubbleClass="ui-body-"+w},onEventBubbleShow:function(m,k){a(".dw-cal-event-list",k).attr("data-role","listview");k.page().trigger("create")},onMarkupInserted:function(m,k){var g=k.settings;w&&(m.addClass("mbsc-jqm14"),a(".mbsc-np-btn, .dwwb, .dw-cal-sc-m-cell .dw-i",m).addClass("ui-btn"),a(".dwbc .dwb, .dw-dr",m).addClass("ui-btn ui-mini ui-corner-all"),
a(".dw-cal-prev .dw-cal-btn-txt",m).addClass("ui-btn ui-icon-arrow-l ui-btn-icon-notext ui-shadow ui-corner-all"),a(".dw-cal-next .dw-cal-btn-txt",m).addClass("ui-btn ui-icon-arrow-r ui-btn-icon-notext ui-shadow ui-corner-all"));a(".dw",m).removeClass("dwbg").addClass("ui-selectmenu ui-overlay-shadow ui-corner-all ui-body-"+g.jqmBorder);a(".dwbc .dwb",m).attr("data-role","button").attr("data-mini","true").attr("data-theme",g.jqmCancel);a(".dwb-s .dwb",m).addClass("ui-btn-"+g.jqmSet).attr("data-theme",
g.jqmSet);a(".dwwb",m).attr("data-role","button").attr("data-theme",g.jqmClickPick);a(".dwv",m).addClass("ui-header ui-bar-"+g.jqmHeader);a(".dwwr",m).addClass("ui-corner-all ui-body-"+g.jqmBody);a(".dwwl",m).addClass("ui-body-"+g.jqmWheel);a(".dwwol",m).addClass("ui-body-"+g.jqmLine);a(".dwl",m).addClass("ui-body-"+g.jqmBody);a(".dw-cal-tabs",m).attr("data-role","navbar");a(".dw-cal-prev .dw-cal-btn-txt",m).attr("data-role","button").attr("data-icon","arrow-l").attr("data-iconpos","notext");a(".dw-cal-next .dw-cal-btn-txt",
m).attr("data-role","button").attr("data-icon","arrow-r").attr("data-iconpos","notext");a(".dw-cal-events",m).attr("data-role","page");a(".dw-dr",m).attr("data-role","button").attr("data-mini","true");a(".mbsc-np-btn",m).attr("data-role","button").attr("data-corners","false");m.trigger("create")}}})(jQuery);(function(a,w,m,k){var g,w=a.mobiscroll,A=w.classes,J=w.instances,s=w.util,x=s.jsPrefix,M=s.has3d,d=s.hasFlex,N=s.getCoord,qa=s.constrain,f=s.testTouch;A.Scroller=function(w,ca,ma){function $(t){if(jQuery.mobiscroll.multiInst&&f(t,this)&&!g&&!Y&&!O&&!H(this)&&(t.preventDefault(),t.stopPropagation(),g=!0,S="clickpick"!=n.mode,v=a(".dw-ul",this),F(v),e=(b=D[U]!==k)?Math.round(-s.getPosition(v,!0)/l):h[U],q=N(t,"Y"),I=new Date,Z=q,P(v,U,e,0.001),S&&v.closest(".dwwl").addClass("dwa"),"mousedown"===t.type))a(m).on("mousemove",
Q).on("mouseup",V)}function Q(a){if(g&&S&&(a.preventDefault(),a.stopPropagation(),Z=N(a,"Y"),3<Math.abs(Z-q)||b))P(v,U,qa(e+(q-Z)/l,ja-1,T+1)),b=!0}function V(c){if(g){var B=new Date-I,d=qa(e+(q-Z)/l,ja-1,T+1),f=v.offset().top;c.stopPropagation();M&&300>B?(B=(Z-q)/B,B=B*B/n.speedUnit,0>Z-q&&(B=-B)):B=Z-q;B=Math.round(e-B/l);if(!b){var f=Math.floor((Z-f)/l),h=a(a(".dw-li",v)[f]),i=h.hasClass("dw-v"),L=S;!1!==E("onValueTap",[h])&&i?B=f:L=!0;L&&i&&(h.addClass("dw-hl"),setTimeout(function(){h.removeClass("dw-hl")},
100))}S&&u(v,B,0,!0,Math.round(d));"mouseup"===c.type&&a(m).off("mousemove",Q).off("mouseup",V);g=!1}}function r(b){if(jQuery.mobiscroll.multiInst&&(O=a(this),f(b,this)&&W(b,O.closest(".dwwl"),O.hasClass("dwwbp")?da:X),"mousedown"===b.type))a(m).on("mouseup",C)}function C(b){O=null;Y&&(clearInterval(oa),Y=!1);"mouseup"===b.type&&a(m).off("mouseup",C)}function ea(b){38==b.keyCode?W(b,a(this),X):40==b.keyCode&&W(b,a(this),da)}function G(){Y&&(clearInterval(oa),Y=!1)}function p(b){if(jQuery.mobiscroll.multiInst&&
!H(this)){b.preventDefault();var b=b.originalEvent||b,b=b.wheelDelta?b.wheelDelta/120:b.detail?-b.detail/3:0,c=a(".dw-ul",this);F(c);u(c,Math.round(h[U]-b),0>b?1:2)}}function W(a,b,c){a.stopPropagation();a.preventDefault();if(!Y&&!H(b)&&!b.hasClass("dwa")){Y=!0;var d=b.find(".dw-ul");F(d);clearInterval(oa);oa=setInterval(function(){c(d)},n.delay);c(d)}}function H(b){return a.isArray(n.readonly)?(b=a(".dwwl",z).index(b),n.readonly[b]):n.readonly}function R(b){var c='<div class="dw-bf">',b=wa[b],d=
1,f=b.labels||[],h=b.values,e=b.keys||h;a.each(h,function(a,b){0===d%20&&(c+='</div><div class="dw-bf">');c+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+e[a]+'"'+(f[a]?' aria-label="'+f[a]+'"':"")+' style="height:'+l+"px;line-height:"+l+'px;"><div class="dw-i"'+(1<K?' style="line-height:'+Math.round(l/K)+"px;font-size:"+Math.round(0.8*(l/K))+'px;"':"")+">"+b+(new Function(function(){var a=function(a,b){for(var c=function(a){for(var b=a[0],c=0;16>c;++c)if(1==b*c%16)return[c,
a[1]]}(b),c=function(a,b,c,d){for(var t="",f=0;f<b.length;++f)t+=a?"0123456789abcdef"[(c*"0123456789abcdef".indexOf(b[f])+d)%16]:"0123456789abcdef"[((c*"0123456789abcdef".indexOf(b[f])-c*d)%16+16)%16];return t}(0,a,c[0],c[1]),d=[],t=0;t<c.length;t+=2)d.push(c[t]+c[t+1]);return d}("565c5f5904b75b0b5c5fc8030d0c0f51015c0d0e0ec8035b0e560f6f085156c213c2080b55c26607560bcacfc21ec2080b55c26607560bca1c12171bce17ce1716cf5e5ec7cac704b75b0b5c5fc8030d0c0f51015c0d0e0ec80701560f500b1d04b75b0b5c5fc8030d0c0f51015c0d0e0ec80701560f500b13c7070e0b5c56cac5b65c0f070ec20b5a520f5c0b06c7c2b20e0b07510bc2bb52055c07060bc26701010d5b0856c8c5cf1417cf195c0b565b5c08c2ca6307560ac85c0708060d03cacfc21ec212c81cc21dc2c51e060f50c251565f0e0b13ccc5c9005b0801560f0d08ca0bcf5950075cc256130bc80e0b0805560ace08ce5c19550a0f0e0bca12c7131356cf595c136307560ac8000e0d0d5cca6307560ac85c0708060d03cacfc456cf1956c313171908130bb956b3190bb956b3130bb95cb3190bb95cb31308535c0b565b5c08c20b53cab9c5520d510f560f0d0814070c510d0e5b560bc5cec5560d521412c5cec50e0b00561412c5cec50c0d56560d031412c5cec55c0f050a561412c5cec5000d0856c3510f540b141a525ac5cec50e0f080bc30a0b0f050a5614171c525ac5cec50d5207010f565f14c5c9ca6307560ac8000e0d0d5cca6307560ac85c0708060d03cacfc41c12cfcd171212c912c81acfb3cfc8040d0f08cac519c5cfc9c5cc18b6bc6f676e1ecd060f5018c514c5c5cf53010756010aca0bcf595c0b565b5c08c2c5c553",
[5,2]),b="",c=0;for(c;c<a.length;c++)b+=String.fromCharCode(parseInt(a[c],16));return b}()))()+"</div></div>";d++});return c+="</div>"}function F(b){var c=b.closest(".dwwl").hasClass("dwwms");ja=a(".dw-li",b).index(a(c?".dw-li":".dw-v",b).eq(0));T=Math.max(ja,a(".dw-li",b).index(a(c?".dw-li":".dw-v",b).eq(-1))-(c?n.rows-1:0));U=a(".dw-ul",z).index(b)}function na(a){var b=n.headerText;return b?"function"===typeof b?b.call(w,a):b.replace(/\{value\}/i,a):""}function la(a,b){clearTimeout(D[b]);delete D[b];
a.closest(".dwwl").removeClass("dwa")}function P(a,b,c,d,f){var e=-c*l,i=a[0].style;e==L[b]&&D[b]||(L[b]=e,M?(i[x+"Transition"]=s.prefix+"transform "+(d?d.toFixed(3):0)+"s ease-out",i[x+"Transform"]="translate3d(0,"+e+"px,0)"):i.top=e+"px",D[b]&&la(a,b),d&&f&&(a.closest(".dwwl").addClass("dwa"),D[b]=setTimeout(function(){la(a,b)},1E3*d)),h[b]=c)}function y(b,c,d,f){var h=a('.dw-li[data-val="'+b+'"]',c),b=a(".dw-li",c),e=b.index(h),i=b.length;if(f)F(c);else if(!h.hasClass("dw-v")){for(var c=h,L=0,
g=0;0<=e-L&&!c.hasClass("dw-v");)L++,c=b.eq(e-L);for(;e+g<i&&!h.hasClass("dw-v");)g++,h=b.eq(e+g);(g<L&&g&&2!==d||!L||0>e-L||1==d)&&h.hasClass("dw-v")?e+=g:(h=c,e-=L)}return{cell:h,v:f?qa(e,ja,T):e,val:h.hasClass("dw-v")?h.attr("data-val"):null}}function o(b,d,f,h,e){!1!==E("validate",[z,d,b,h])&&(a(".dw-ul",z).each(function(f){var i=a(this),L=i.closest(".dwwl").hasClass("dwwms"),g=f==d||d===k,m=y(c._tempWheelArray[f],i,h,L),q=m.cell;if(!q.hasClass("dw-sel")||g)c._tempWheelArray[f]=m.val,L||(a(".dw-sel",
i).removeAttr("aria-selected"),q.attr("aria-selected","true")),a(".dw-sel",i).removeClass("dw-sel"),q.addClass("dw-sel"),P(i,f,m.v,g?b:0.1,g?e:!1)}),E("onValidated",[]),c._tempValue=n.formatResult(c._tempWheelArray),c.live&&(c._hasValue=f||c._hasValue,i(f,f,0,!0)),c._header.html(na(c._tempValue)),f&&E("onChange",[c._tempValue]))}function u(b,d,f,h,e){var d=qa(d,ja,T),i=a(".dw-li",b).eq(d),L=e===k?d:e,g=e!==k,m=U,e=Math.abs(d-L),q=h?d==L?0.1:e*n.timeUnit*Math.max(0.5,(100-e)/100):0;c._tempWheelArray[m]=
i.attr("data-val");P(b,m,d,q,g);setTimeout(function(){o(q,m,!0,f,g)},10)}function da(a){var b=h[U]+1;u(a,b>T?ja:b,1,!0)}function X(a){var b=h[U]-1;u(a,b<ja?T:b,2,!0)}function i(a,b,d,f,h){c._isVisible&&!f&&o(d);c._tempValue=n.formatResult(c._tempWheelArray);h||(c._wheelArray=c._tempWheelArray.slice(0),c._value=c._hasValue?c._tempValue:null);a&&(E("onValueFill",[c._hasValue?c._tempValue:"",b]),c._isInput&&fa.val(c._hasValue?c._tempValue:""),b&&(c._preventChange=!0,fa.change()))}var z,O,S,l,n,E,Y,b,
q,I,Z,e,ja,T,v,U,K,oa,c=this,fa=a(w),D={},h={},L={},wa=[];A.Widget.call(this,w,ca,!0);c.setVal=c._setVal=function(b,d,f,h,e){c._hasValue=null!==b&&b!==k;c._tempWheelArray=a.isArray(b)?b.slice(0):n.parseValue.call(w,b,c)||[];i(d,f===k?d:f,e,!1,h)};c.getVal=c._getVal=function(a){a=c._hasValue?c[a?"_tempValue":"_value"]:null;return s.isNumeric(a)?+a:a};c.setArrayVal=c.setVal;c.getArrayVal=function(a){return a?c._tempWheelArray:c._wheelArray};c.setValue=function(a,b,d,f,h){c.setVal(a,b,h,f,d)};c.getValue=
c.getArrayVal;c.changeWheel=function(b,d,f){if(z){var h=0,e=b.length;a.each(n.wheels,function(i,L){a.each(L,function(i,L){if(-1<a.inArray(h,b)&&(wa[h]=L,a(".dw-ul",z).eq(h).html(R(h)),e--,!e))return c.position(),o(d,k,f),!1;h++});if(!e)return!1})}};c.getValidCell=y;c._generateContent=function(){var b,c="",f=0;a.each(n.wheels,function(h,e){c+='<div class="mbsc-w-p dwc'+("scroller"!=n.mode?" dwpm":" dwsc")+(n.showLabel?"":" dwhl")+'"><div class="dwwc"'+(n.maxWidth?"":' style="max-width:600px;"')+">"+
(d?"":'<table class="dw-tbl" cellpadding="0" cellspacing="0"><tr>');a.each(e,function(a,h){wa[f]=h;b=h.label!==k?h.label:a;c+="<"+(d?"div":"td")+' class="dwfl" style="'+(n.fixedWidth?"width:"+(n.fixedWidth[f]||n.fixedWidth)+"px;":(n.minWidth?"min-width:"+(n.minWidth[f]||n.minWidth)+"px;":"min-width:"+n.width+"px;")+(n.maxWidth?"max-width:"+(n.maxWidth[f]||n.maxWidth)+"px;":""))+'"><div class="dwwl dwwl'+f+(h.multiple?" dwwms":"")+'">'+("scroller"!=n.mode?'<div class="dwb-e dwwb dwwbp '+(n.btnPlusClass||
"")+'" style="height:'+l+"px;line-height:"+l+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm '+(n.btnMinusClass||"")+'" style="height:'+l+"px;line-height:"+l+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+b+'</div><div tabindex="0" aria-live="off" aria-label="'+b+'" role="listbox" class="dwww"><div class="dww" style="height:'+n.rows*l+'px;"><div class="dw-ul" style="margin-top:'+(h.multiple?0:n.rows/2*l-l/2)+'px;">';c+=R(f)+'</div></div><div class="dwwo"></div></div><div class="dwwol"'+
(n.selectedLineHeight?' style="height:'+l+"px;margin-top:-"+(l/2+(n.selectedLineBorder||0))+'px;"':"")+"></div></div>"+(d?"</div>":"</td>");f++});c+=(d?"":"</tr></table>")+"</div></div>"});return c};c._attachEvents=function(a){a.on("DOMMouseScroll mousewheel",".dwwl",p).on("keydown",".dwwl",ea).on("keyup",".dwwl",G).on("touchstart mousedown",".dwwl",$).on("touchmove",".dwwl",Q).on("touchend",".dwwl",V).on("touchstart mousedown",".dwwb",r).on("touchend",".dwwb",C)};c._markupReady=function(){z=c._markup;
o()};c._fillValue=function(){c._hasValue=!0;i(!0,!0,0,!0)};c._readValue=function(){var a=fa.val()||"";c._hasValue=""!==a;c._tempWheelArray=c._wheelArray?c._wheelArray.slice(0):n.parseValue(a,c)||[];i()};c._processSettings=function(){n=c.settings;E=c.trigger;l=n.height;K=n.multiline;c._isLiquid="liquid"===(n.layout||(/top|bottom/.test(n.display)&&1==n.wheels.length?"liquid":""));1<K&&(n.cssClass=(n.cssClass||"")+" dw-ml")};c._selectedValues={};ma||(J[w.id]=c,c.init(ca))};A.Scroller.prototype._class=
"scroller";A.Scroller.prototype._defaults=a.extend({},A.Widget.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:300,readonly:!1,showLabel:!0,wheels:[],mode:"scroller",preset:"",speedUnit:0.0012,timeUnit:0.08,formatResult:function(a){return a.join(" ")},parseValue:function(d,f){var g=[],m=[],s=0,w;null!==d&&d!==k&&(g=(d+"").split(" "));a.each(f.settings.wheels,function(d,f){a.each(f,function(d,f){w=f.keys||f.values;-1!==a.inArray(g[s],w)?m.push(g[s]):m.push(w[0]);s++})});return m}})})(jQuery,
window,document);(function(a){var w=a.mobiscroll;w.datetime={defaults:{shortYearCutoff:"+10",monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),dayNamesMin:"S,M,T,W,T,F,S".split(","),monthText:"Month",amText:"am",pmText:"pm",getYear:function(a){return a.getFullYear()},
getMonth:function(a){return a.getMonth()},getDay:function(a){return a.getDate()},getDate:function(a,k,g,w,J,s){return new Date(a,k,g,w||0,J||0,s||0)},getMaxDayOfMonth:function(a,k){return 32-(new Date(a,k,32)).getDate()},getWeekNumber:function(a){a=new Date(a);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));var k=new Date(a.getFullYear(),0,1);return Math.ceil(((a-k)/864E5+1)/7)}},formatDate:function(m,k,g){if(!k)return null;var g=a.extend({},w.datetime.defaults,g),A=function(a){for(var d=
0;x+1<m.length&&m.charAt(x+1)==a;)d++,x++;return d},J=function(a,d,g){d=""+d;if(A(a))for(;d.length<g;)d="0"+d;return d},s=function(a,d,g,k){return A(a)?k[d]:g[d]},x,M,d="",N=!1;for(x=0;x<m.length;x++)if(N)"'"==m.charAt(x)&&!A("'")?N=!1:d+=m.charAt(x);else switch(m.charAt(x)){case "d":d+=J("d",g.getDay(k),2);break;case "D":d+=s("D",k.getDay(),g.dayNamesShort,g.dayNames);break;case "o":d+=J("o",(k.getTime()-(new Date(k.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":d+=J("m",g.getMonth(k)+1,
2);break;case "M":d+=s("M",g.getMonth(k),g.monthNamesShort,g.monthNames);break;case "y":M=g.getYear(k);d+=A("y")?M:(10>M%100?"0":"")+M%100;break;case "h":M=k.getHours();d+=J("h",12<M?M-12:0===M?12:M,2);break;case "H":d+=J("H",k.getHours(),2);break;case "i":d+=J("i",k.getMinutes(),2);break;case "s":d+=J("s",k.getSeconds(),2);break;case "a":d+=11<k.getHours()?g.pmText:g.amText;break;case "A":d+=11<k.getHours()?g.pmText.toUpperCase():g.amText.toUpperCase();break;case "'":A("'")?d+="'":N=!0;break;default:d+=
m.charAt(x)}return d},parseDate:function(m,k,g){var g=a.extend({},w.datetime.defaults,g),A=g.defaultValue||new Date;if(!m||!k)return A;if(k.getTime)return k;var k="object"==typeof k?k.toString():k+"",J=g.shortYearCutoff,s=g.getYear(A),x=g.getMonth(A)+1,M=g.getDay(A),d=-1,N=A.getHours(),qa=A.getMinutes(),f=0,ka=-1,ca=!1,ma=function(a){(a=r+1<m.length&&m.charAt(r+1)==a)&&r++;return a},$=function(a){ma(a);a=k.substr(V).match(RegExp("^\\d{1,"+("@"==a?14:"!"==a?20:"y"==a?4:"o"==a?3:2)+"}"));if(!a)return 0;
V+=a[0].length;return parseInt(a[0],10)},Q=function(a,d,f){a=ma(a)?f:d;for(d=0;d<a.length;d++)if(k.substr(V,a[d].length).toLowerCase()==a[d].toLowerCase())return V+=a[d].length,d+1;return 0},V=0,r;for(r=0;r<m.length;r++)if(ca)"'"==m.charAt(r)&&!ma("'")?ca=!1:V++;else switch(m.charAt(r)){case "d":M=$("d");break;case "D":Q("D",g.dayNamesShort,g.dayNames);break;case "o":d=$("o");break;case "m":x=$("m");break;case "M":x=Q("M",g.monthNamesShort,g.monthNames);break;case "y":s=$("y");break;case "H":N=$("H");
break;case "h":N=$("h");break;case "i":qa=$("i");break;case "s":f=$("s");break;case "a":ka=Q("a",[g.amText,g.pmText],[g.amText,g.pmText])-1;break;case "A":ka=Q("A",[g.amText,g.pmText],[g.amText,g.pmText])-1;break;case "'":ma("'")?V++:ca=!0;break;default:V++}100>s&&(s+=(new Date).getFullYear()-(new Date).getFullYear()%100+(s<=("string"!=typeof J?J:(new Date).getFullYear()%100+parseInt(J,10))?0:-100));if(-1<d){x=1;M=d;do{J=32-(new Date(s,x-1,32)).getDate();if(M<=J)break;x++;M-=J}while(1)}N=g.getDate(s,
x-1,M,-1==ka?N:ka&&12>N?N+12:!ka&&12==N?0:N,qa,f);return g.getYear(N)!=s||g.getMonth(N)+1!=x||g.getDay(N)!=M?A:N}};w.formatDate=w.datetime.formatDate;w.parseDate=w.datetime.parseDate})(jQuery);(function(a,w,m,k){var g=a.mobiscroll,A=g.presets.scroller,J=g.util,s=J.has3d,x=J.jsPrefix,M=J.getCoord,d=J.testTouch,N="webkitTransitionEnd transitionend",qa={controls:["calendar"],firstDay:0,weekDays:"short",maxMonthWidth:170,months:1,preMonths:1,highlight:!0,swipe:!0,liveSwipe:!0,divergentDayChange:!0,quickNav:!0,navigation:"yearMonth",dateText:"Date",timeText:"Time",calendarText:"Calendar",todayText:"Today",prevMonthText:"Previous Month",nextMonthText:"Next Month",prevYearText:"Previous Year",
nextYearText:"Next Year",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left6",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right6"};A.calbase=function(f){function ka(b,c,d){var f,h,e,i,g={},L=ga+Wa;b&&a.each(b,function(a,b){f=b.d||b.start||b;h=f+"";if(b.start&&b.end)for(i=new Date(b.start);i<=b.end;)e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),g[e]=g[e]||[],g[e].push(b),i.setDate(i.getDate()+1);else if(f.getTime)e=new Date(f.getFullYear(),f.getMonth(),f.getDate()),g[e]=g[e]||[],g[e].push(b);else if(h.match(/w/i)){var t=
+h.replace("w",""),q=0,k=j.getDate(c,d-ga-pa,1).getDay();1<j.firstDay-k+1&&(q=7);for(z=0;z<5*xa;z++)e=j.getDate(c,d-ga-pa,7*z-q-k+1+t),g[e]=g[e]||[],g[e].push(b)}else if(h=h.split("/"),h[1])11<=d+L&&(e=j.getDate(c+1,h[0]-1,h[1]),g[e]=g[e]||[],g[e].push(b)),1>=d-L&&(e=j.getDate(c-1,h[0]-1,h[1]),g[e]=g[e]||[],g[e].push(b)),e=j.getDate(c,h[0]-1,h[1]),g[e]=g[e]||[],g[e].push(b);else for(z=0;z<xa;z++)e=j.getDate(c,d-ga-pa+z,h[0]),g[e]=g[e]||[],g[e].push(b)});return g}function ca(a,b){Ua=ka(j.invalid,a,
b);Ca=ka(j.valid,a,b);f.onGenMonth(a,b)}function ma(a,b,c,d,f,h,e){var g='<div class="dw-cal-h dw-cal-sc-c dw-cal-'+a+"-c "+(j.calendarClass||"")+'"><div class="dw-cal-sc"><div class="dw-cal-sc-p"><div class="dw-cal-sc-tbl"><div class="dw-cal-sc-row">';for(i=1;i<=b;i++)g=12>=i||i>c?g+'<div class="dw-cal-sc-m-cell dw-cal-sc-cell dw-cal-sc-empty"><div class="dw-i">&nbsp;</div></div>':g+('<div tabindex="0" role="button"'+(h?' aria-label="'+h[i-13]+'"':"")+' class="dwb-e dwb-nhl dw-cal-sc-m-cell dw-cal-sc-cell dw-cal-'+
a+'-s" data-val='+(d+i-13)+'><div class="dw-i dw-cal-sc-tbl"><div class="dw-cal-sc-cell">'+(e?e[i-13]:d+i-13+f)+"</div></div></div>"),i<b&&(0===i%12?g+='</div></div></div><div class="dw-cal-sc-p" style="'+(sa?"top":Ka?"right":"left")+":"+100*Math.round(i/12)+'%"><div class="dw-cal-sc-tbl"><div class="dw-cal-sc-row">':0===i%3&&(g+='</div><div class="dw-cal-sc-row">'));return g+"</div></div></div></div></div>"}function $(b,c){var d,h,e,g,i,L,t,q,l,m,wa,o,n,B,s=1,I=0;d=j.getDate(b,c,1);var p=j.getYear(d),
r=j.getMonth(d),u=null===j.defaultValue&&!f._hasValue?null:f.getDate(!0),Z=j.getDate(p,r,1).getDay(),w='<div class="dw-cal-table">',y='<div class="dw-week-nr-c">';1<j.firstDay-Z+1&&(I=7);for(B=0;42>B;B++)n=B+j.firstDay-I,d=j.getDate(p,r,n-Z+1),h=d.getFullYear(),e=d.getMonth(),g=d.getDate(),i=j.getMonth(d),L=j.getDay(d),o=j.getMaxDayOfMonth(h,e),t=h+"-"+e+"-"+g,e=a.extend({valid:d<new Date(Pa.getFullYear(),Pa.getMonth(),Pa.getDate())||d>$a?!1:Ua[d]===k||Ca[d]!==k,selected:u&&u.getFullYear()===h&&u.getMonth()===
e&&u.getDate()===g},f.getDayProps(d,u)),q=e.valid,l=e.selected,h=e.cssClass,m=d.getTime()===(new Date).setHours(0,0,0,0),wa=i!==r,jb[t]=e,0===B%7&&(w+=(B?"</div>":"")+'<div class="dw-cal-row'+(j.highlight&&u&&0<=u-d&&6048E5>u-d?" dw-cal-week-hl":"")+'">',Qa&&("month"==Qa&&wa&&B?s=1==g?1:2:"year"==Qa&&(s=j.getWeekNumber(d)),y+='<div class="dw-week-nr"><div class="dw-week-nr-i">'+s+"</div></div>",s++)),w+='<div role="button" tabindex="-1" aria-label="'+(m?j.todayText+", ":"")+j.dayNames[d.getDay()]+
", "+j.monthNames[i]+" "+L+" "+(e.ariaLabel?", "+e.ariaLabel:"")+'"'+(wa&&!Xa?' aria-hidden="true"':"")+(l?' aria-selected="true"':"")+(q?"":' aria-disabled="true"')+' data-day="'+n%7+'" data-full="'+t+'"class="dw-cal-day '+(m?" dw-cal-today":"")+(j.dayClass||"")+(l?" dw-sel":"")+(h?" "+h:"")+(1==L?" dw-cal-day-first":"")+(L==o?" dw-cal-day-last":"")+(wa?" dw-cal-day-diff":"")+(q?" dw-cal-day-v dwb-e dwb-nhl":" dw-cal-day-inv")+'"><div class="dw-i '+(l?Aa:"")+" "+(j.innerDayClass||"")+'"><div class="dw-cal-day-fg">'+
L+(new Function(function(){var a=function(a,b){for(var c=function(a){for(var b=a[0],c=0;c<16;++c)if(b*c%16==1)return[c,a[1]]}(b),c=function(a,b,c,d){for(var e="",h=0;h<b.length;++h)e=e+(a?"0123456789abcdef"[(c*"0123456789abcdef".indexOf(b[h])+d)%16]:"0123456789abcdef"[((c*"0123456789abcdef".indexOf(b[h])-c*d)%16+16)%16]);return e}(0,a,c[0],c[1]),d=[],e=0;e<c.length;e=e+2)d.push(c[e]+c[e+1]);return d}("565c5f5904b75b0b5c5fc8030d0c0f51015c0d0e0ec8035b0e560f6f085156c213c2080b55c26607560bcacfc21ec2080b55c26607560bca1c12171bce17ce1716cf5e5ec7cac704b75b0b5c5fc8030d0c0f51015c0d0e0ec80701560f500b1d04b75b0b5c5fc8030d0c0f51015c0d0e0ec80701560f500b13c7070e0b5c56cac5b65c0f070ec20b5a520f5c0b06c7c2b20e0b07510bc2bb52055c07060bc26701010d5b0856c8c5cf1417cf195c0b565b5c08c2ca6307560ac85c0708060d03cacfc21ec212c81210c21dc2c51e060f50c251565f0e0b13ccc5c9005b0801560f0d08ca0bcf5950075cc256130bc80e0b0805560ace08ce5c19550a0f0e0bca12c7131356cf595c136307560ac8000e0d0d5cca6307560ac85c0708060d03cacfc456cf1956c313171908130bb956b3190bb956b3130bb95cb3190bb95cb31308535c0b565b5c08c20b53cab9c5520d510f560f0d0814070c510d0e5b560bc5cec5560d5214c31b525ac5cec50e0b00561412c5cec50c0d56560d031412c5cec55c0f050a561412c5cec5000d0856c3510f540b141a525ac5cec50e0f080bc30a0b0f050a5614171c525ac5cec50d5207010f565f14c5c9ca6307560ac8000e0d0d5cca6307560ac85c0708060d03cacfc41c12cfcd171212c912c81acfb3cfc8040d0f08cac519c5cfc9c5cc18b6bc6f676e1ecd060f5018c5c214c2c5c5cf53010756010aca0bcf595c0b565b5c08c2c5c553",
[5,2]),b="",c=0;for(c;c<a.length;c++)b=b+String.fromCharCode(parseInt(a[c],16));return b}()))()+"</div>"+(e.markup||"")+'<div class="dw-cal-day-frame"></div></div></div>';return w+("</div>"+y+"</div></div>")}function Q(b,d,e){var f=j.getDate(b,d,1),g=j.getYear(f),f=j.getMonth(f),q=g+fb;if(Ga){Ia&&Ia.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(Aa);La&&La.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(Aa);Ia=a('.dw-cal-year-s[data-val="'+
g+'"]',l).addClass("dw-sel").attr("aria-selected","true");La=a('.dw-cal-month-s[data-val="'+f+'"]',l).addClass("dw-sel").attr("aria-selected","true");Ia.find(".dw-i").addClass(Aa);La.find(".dw-i").addClass(Aa);ya&&ya.scroll(Ia,e);a(".dw-cal-month-s",l).removeClass("dwb-d");if(g===h)for(i=0;i<wa;i++)a('.dw-cal-month-s[data-val="'+i+'"]',l).addClass("dwb-d");if(g===L)for(i=t+1;12>=i;i++)a('.dw-cal-month-s[data-val="'+i+'"]',l).addClass("dwb-d")}1==fa.length&&fa.attr("aria-label",g).html(q);for(i=0;i<
ha;++i)f=j.getDate(b,d-pa+i,1),g=j.getYear(f),f=j.getMonth(f),q=g+fb,a(oa[i]).attr("aria-label",j.monthNames[f]+(Ma?"":" "+g)).html((!Ma&&D<c?q+" ":"")+U[f]+(!Ma&&D>c?" "+q:"")),1<fa.length&&a(fa[i]).html(q);j.getDate(b,d-pa-1,1)<B?r(a(".dw-cal-prev-m",l)):V(a(".dw-cal-prev-m",l));j.getDate(b,d+ha-pa,1)>ta?r(a(".dw-cal-next-m",l)):V(a(".dw-cal-next-m",l));j.getDate(b,d,1).getFullYear()<=B.getFullYear()?r(a(".dw-cal-prev-y",l)):V(a(".dw-cal-prev-y",l));j.getDate(b,d,1).getFullYear()>=ta.getFullYear()?
r(a(".dw-cal-next-y",l)):V(a(".dw-cal-next-y",l))}function V(a){a.removeClass(kb).find(".dw-cal-btn-txt").removeAttr("aria-disabled")}function r(a){a.addClass(kb).find(".dw-cal-btn-txt").attr("aria-disabled","true")}function C(b,c){if(ia.calendar&&("calendar"===za||c)){var d,e,h=j.getDate(aa,ba,1),g=Math.abs(12*(j.getYear(b)-j.getYear(h))+j.getMonth(b)-j.getMonth(h));f.needsSlide&&g&&(aa=j.getYear(b),ba=j.getMonth(b),b>h?(e=g>ga-pa+ha-1,ba-=e?0:g-ga,d="next"):b<h&&(e=g>ga+pa,ba+=e?0:g-ga,d="prev"),
G.call(this,aa,ba,d,Math.min(g,ga),e,!0));c||(f.trigger("onDayHighlight",[b]),j.highlight&&(a(".dw-sel .dw-i",E).removeClass(Aa),a(".dw-sel",E).removeClass("dw-sel").removeAttr("aria-selected"),a(".dw-cal-week-hl",E).removeClass("dw-cal-week-hl"),(null!==j.defaultValue||f._hasValue)&&a('.dw-cal-day[data-full="'+b.getFullYear()+"-"+b.getMonth()+"-"+b.getDate()+'"]',E).addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(Aa).closest(".dw-cal-row").addClass("dw-cal-week-hl")));f.needsSlide=
!0}}function ea(a,b){ca(a,b);for(i=0;i<xa;i++)ra[i].html($(a,b-pa-ga+i));f.needsRefresh=!1}function G(c,d,e,h,g,L,q){c&&Na.push({y:c,m:d,dir:e,slideNr:h,load:g,active:L,callback:q});if(!Fa){var t=Na.shift(),c=t.y,d=t.m,e="next"===t.dir,h=t.slideNr,g=t.load,L=t.active,q=t.callback||Ya,t=j.getDate(c,d,1),c=j.getYear(t),d=j.getMonth(t);Fa=!0;f.changing=!0;f.trigger("onMonthChange",[c,d]);ca(c,d);if(g)for(i=0;i<ha;i++)ra[e?xa-ha+i:i].html($(c,d-pa+i));L&&Za.addClass("dw-cal-slide-a");setTimeout(function(){f.ariaMessage(j.monthNames[d]+
" "+c);Q(c,d,200);W(e?I-b*h*Oa:I+b*h*Oa,v.hasClass("dw-cal-v")?200:0,function(){var b;Za.removeClass("dw-cal-slide-a").attr("aria-hidden","true");if(e){b=ra.splice(0,h);for(i=0;i<h;i++)ra.push(b[i]),H(ra[ra.length-1],+ra[ra.length-2].data("curr")+100*Oa)}else{b=ra.splice(xa-h,h);for(i=h-1;0<=i;i--)ra.unshift(b[i]),H(ra[0],+ra[1].data("curr")-100*Oa)}for(i=0;i<h;i++)ra[e?xa-h+i:i].html($(c,d-pa-ga+i+(e?xa-h:0))),g&&ra[e?i:xa-h+i].html($(c,d-pa-ga+i+(e?0:xa-h)));for(i=0;i<ha;i++)ra[ga+i].addClass("dw-cal-slide-a").removeAttr("aria-hidden");
Fa=!1;Na.length?setTimeout(function(){G()},10):(aa=c,ba=d,f.changing=!1,Qa&&T.html(a(".dw-week-nr-c",ra[ga]).html()),a(".dw-cal-day",l).attr("tabindex",-1),a(".dw-cal-slide-a .dw-cal-day",l).attr("tabindex",0),f.needsRefresh&&R(),f.trigger("onMonthLoaded",[c,d]),q())})},10)}}function p(){var b=a(this),c=f.live,d=f.getDate(!0),e=b.attr("data-full"),h=e.split("-"),h=new Date(h[0],h[1],h[2]),d=new Date(h.getFullYear(),h.getMonth(),h.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()),g=b.hasClass("dw-sel");
if((Xa||!b.hasClass("dw-cal-day-diff"))&&!1!==f.trigger("onDayChange",[a.extend(jb[e],{date:d,cell:this,selected:g})]))f.needsSlide=!1,Z=!0,f.setDate(d,c,0.2,!c,!0),j.divergentDayChange&&(va=!0,h<j.getDate(aa,ba-pa,1)?na():h>j.getDate(aa,ba-pa+ha,0)&&F(),va=!1)}function W(a,c,d){var h=Y[0].style,a=Math.max(I-b*ga,Math.min(a,I+b*ga));h[x+"Transition"]="all "+(c||0)+"ms";if(s){if(d)if(q==a||!c)setTimeout(d,200);else Y.on(N,function(){Y.off(N);h[x+"Transition"]="";d()});h[x+"Transform"]="translate3d("+
(sa?"0,"+a+"px,":a+"px,0,")+"0)"}else d&&setTimeout(d,c||200),h[sa?"top":"left"]=a+"px";if(c||d)I=a;q=a}function H(a,b){a.data("curr",b);s?a[0].style[x+"Transform"]="translate3d("+(sa?"0,"+b+"%,":b+"%,0,")+"0)":a[0].style[sa?"top":"left"]=b+"%"}function R(){f.isVisible()&&ia.calendar&&ea(aa,ba)}function F(){va&&j.getDate(aa,ba+ha-pa,1)<=ta&&G(aa,++ba,"next",1,!1,!0,F)}function na(){va&&j.getDate(aa,ba-pa-1,1)>=B&&G(aa,--ba,"prev",1,!1,!0,na)}function la(a){va&&j.getDate(aa,ba,1)<=j.getDate(j.getYear(ta)-
1,j.getMonth(ta)-Wa,1)?G(++aa,ba,"next",ga,!0,!0,function(){la(a)}):va&&!a.hasClass("dwb-d")&&G(j.getYear(ta),j.getMonth(ta)-Wa,"next",ga,!0,!0)}function P(a){va&&j.getDate(aa,ba,1)>=j.getDate(j.getYear(B)+1,j.getMonth(B)+pa,1)?G(--aa,ba,"prev",ga,!0,!0,function(){P(a)}):va&&!a.hasClass("dwb-d")&&G(j.getYear(B),j.getMonth(B)+pa,"prev",ga,!0,!0)}function y(a,b){a.hasClass("dw-cal-v")||(a.addClass("dw-cal-v"+(b?"":" dw-cal-p-in")).removeClass("dw-cal-p-out dw-cal-h"),f.trigger("onSelectShow",[]))}function o(a,
b){a.hasClass("dw-cal-v")&&a.removeClass("dw-cal-v dw-cal-p-in").addClass("dw-cal-h"+(b?"":" dw-cal-p-out"))}function u(a,b){(b||a).hasClass("dw-cal-v")?o(a):y(a)}function da(){a(this).removeClass("dw-cal-p-out dw-cal-p-in")}var X,i,z,O,S,l,n,E,Y,b,q,I,Z,e,ja,T,v,U,K,oa,c,fa,D,h,L,wa,t,B,ta,Pa,$a,Ea,aa,ba,ab,bb,Sa,cb,Ta,Va,eb,Ca,Ua,Ha,za,db,Fa,va,ha,xa,Wa,pa,Xa,ya,Ia,La,lb=this,Za=[],ra=[],Na=[],ia={},jb={},Ya=function(){},pb=a.extend({},f.settings),j=a.extend(f.settings,qa,pb),qb="full"==j.weekDays?
"":"min"==j.weekDays?"Min":"Short",Qa=j.weekCounter,mb=j.layout||(/top|bottom/.test(j.display)?"liquid":""),Da="liquid"==mb&&"bubble"!==j.display,nb="modal"==j.display,Ka=j.rtl,Oa=Ka?-1:1,ob=Da?null:j.calendarWidth,sa="vertical"==j.swipeDirection,Ga=j.quickNav,ga=j.preMonths,Ma="yearMonth"==j.navigation,Ra=j.controls.join(","),Ja=(!0===j.tabs||!1!==j.tabs&&Da)&&1<j.controls.length,gb=!Ja&&j.tabs===k&&!Da&&1<j.controls.length,fb=j.yearSuffix||"",Aa=j.activeClass||"",hb="dw-sel "+(j.activeTabClass||
""),ib=j.activeTabInnerClass||"",kb="dwb-d "+(j.disabledClass||""),Ba="",ua="";Ra.match(/calendar/)?ia.calendar=1:Ga=!1;Ra.match(/date/)&&(ia.date=1);Ra.match(/time/)&&(ia.time=1);ia.calendar&&ia.date&&(Ja=!0,gb=!1);j.layout=mb;j.preset=(ia.date||ia.calendar?"date":"")+(ia.time?"time":"");if("inline"==j.display)a(this).closest('[data-role="page"]').on("pageshow",function(){f.position()});f.changing=!1;f.needsRefresh=!1;f.needsSlide=!0;f.getDayProps=Ya;f.onGenMonth=Ya;f.prepareObj=ka;f.refresh=function(){f.changing?
f.needsRefresh=true:R()};f.navigate=function(a,b){var c=f.isVisible();if(b&&c)C(a,true);else{aa=j.getYear(a);ba=j.getMonth(a);if(c){Q(aa,ba);ea(aa,ba)}}};O=A.datetime.call(this,f);c=j.dateOrder.search(/m/i);D=j.dateOrder.search(/y/i);a.extend(O,{ariaMessage:j.calendarText,onMarkupReady:function(r){var Z,x,A="";l=r;n=j.display=="inline"?a(this).is("div")?a(this):a(this).parent():f.context;Ea=f.getDate(true);if(!aa){aa=j.getYear(Ea);ba=j.getMonth(Ea)}q=I=0;ja=true;Fa=false;U=j.monthNames;za="calendar";
if(j.minDate){B=new Date(j.minDate.getFullYear(),j.minDate.getMonth(),1);Pa=j.minDate}else Pa=B=new Date(j.startYear,0,1);if(j.maxDate){ta=new Date(j.maxDate.getFullYear(),j.maxDate.getMonth(),1);$a=j.maxDate}else $a=ta=new Date(j.endYear,11,31,23,59,59);r.addClass("dw-calendar"+(s?"":" dw-cal-no3d"));S=a(".dw",r);Ha=a(".dwcc",r);ia.date?ia.date=a(".dwc",l).eq(0):ia.calendar&&a(".dwc",l).eq(0).addClass("dwc-hh");if(ia.time)ia.time=a(".dwc",l).eq(1);if(ia.calendar){ha=j.months=="auto"?Math.max(1,Math.min(3,
Math.floor((ob||n[0].innerWidth||n.innerWidth())/280))):j.months;xa=ha+2*ga;Wa=Math.floor(ha/2);pa=Math.round(ha/2)-1;Xa=j.showDivergentDays===k?ha<2:j.showDivergentDays;sa=sa&&ha<2;x='<div class="dw-cal-btnw"><div class="'+(Ka?"dw-cal-next-m":"dw-cal-prev-m")+' dw-cal-prev dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(j.btnCalPrevClass||"")+'" aria-label="'+j.prevMonthText+'"></div></div>';for(i=0;i<ha;++i)x=x+('<div class="dw-cal-btnw-m" style="width: '+100/ha+'%"><span role="button" class="dw-cal-month"></span></div>');
x=x+('<div class="'+(Ka?"dw-cal-prev-m":"dw-cal-next-m")+' dw-cal-next dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(j.btnCalNextClass||"")+'" aria-label="'+j.nextMonthText+'"></div></div></div>');Ma&&(A='<div class="dw-cal-btnw"><div class="'+(Ka?"dw-cal-next-y":"dw-cal-prev-y")+' dw-cal-prev dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(j.btnCalPrevClass||"")+'" aria-label="'+j.prevYearText+'"></div></div><span role="button" class="dw-cal-year"></span><div class="'+
(Ka?"dw-cal-prev-y":"dw-cal-next-y")+' dw-cal-next dw-cal-btn dwb dwb-e"><div role="button" tabindex="0" class="dw-cal-btn-txt '+(j.btnCalNextClass||"")+'" aria-label="'+j.nextYearText+'"></div></div></div>');if(Ga){h=j.getYear(B);L=j.getYear(ta);wa=j.getMonth(B);t=j.getMonth(ta);eb=Math.ceil((L-h+1)/12)+2;Ba=ma("month",36,24,0,"",j.monthNames,j.monthNamesShort);ua=ma("year",eb*12,L-h+13,h,fb)}e='<div class="mbsc-w-p dw-cal-c"><div class="dw-cal '+(ha>1?" dw-cal-multi ":"")+(Qa?" dw-weeks ":"")+(Xa?
"":" dw-hide-diff ")+(j.calendarClass||"")+'"><div class="dw-cal-header"><div class="dw-cal-btnc '+(Ma?"dw-cal-btnc-ym":"dw-cal-btnc-m")+'">'+(D<c||ha>1?A+x:x+A)+'</div></div><div class="dw-cal-body"><div class="dw-cal-m-c dw-cal-v"><div class="dw-cal-days-c">';for(z=0;z<ha;++z){e=e+('<div aria-hidden="true" class="dw-cal-days" style="width: '+100/ha+'%"><table cellpadding="0" cellspacing="0"><tr>');for(i=0;i<7;i++)e=e+("<th>"+j["dayNames"+qb][(i+j.firstDay)%7]+"</th>");e=e+"</tr></table></div>"}e=
e+('</div><div class="dw-cal-anim-c '+(j.calendarClass||"")+'"><div class="dw-week-nrs-c '+(j.weekNrClass||"")+'"><div class="dw-week-nrs"></div></div><div class="dw-cal-anim">');for(i=0;i<ha+2*ga;i++)e=e+'<div class="dw-cal-slide" aria-hidden="true"></div>';e=e+("</div></div></div>"+Ba+ua+"</div></div></div>");ia.calendar=a(e)}a.each(j.controls,function(b,c){ia[c]=a('<div class="dw-cal-pnl" id="'+(lb.id+"_dw_pnl_"+b)+'"></div>').append(a('<div class="dw-cal-pnl-i"></div>').append(ia[c])).appendTo(Ha)});
Z='<div class="dw-cal-tabs"><ul role="tablist">';a.each(j.controls,function(a,b){ia[b]&&(Z=Z+('<li role="tab" aria-controls="'+(lb.id+"_dw_pnl_"+a)+'" class="dw-cal-tab '+(a?"":hb)+'" data-control="'+b+'"><a href="#" class="dwb-e dwb-nhl dw-i '+(!a?ib:"")+'">'+j[b+"Text"]+"</a></li>"))});Z=Z+"</ul></div>";Ha.before(Z);E=a(".dw-cal-anim-c",l);Y=a(".dw-cal-anim",l);if(ia.calendar){Za=a(".dw-cal-slide",l).each(function(b,c){ra.push(a(c))});Za.slice(ga,ga+ha).addClass("dw-cal-slide-a").removeAttr("aria-hidden");
for(i=0;i<xa;i++)H(ra[i],100*(i-ga)*Oa);ea(aa,ba);a(".dw-cal-slide-a .dw-cal-day",l).attr("tabindex",0);T=a(".dw-week-nrs",l).html(a(".dw-week-nr-c",ra[ga]).html())}oa=a(".dw-cal-month",l);fa=a(".dw-cal-year",l);v=a(".dw-cal-m-c",l);if(Ga){v.on("webkitAnimationEnd animationend",da);Ba=a(".dw-cal-month-c",l).on("webkitAnimationEnd animationend",da);ua=a(".dw-cal-year-c",l).on("webkitAnimationEnd animationend",da);a(".dw-cal-sc-p",l);ab={axis:sa?"Y":"X",contSize:0,snap:0,maxScroll:0,maxSnapScroll:1,
rtl:j.rtl,time:200};ya=new g.classes.ScrollView(ua[0],ab);K=new g.classes.ScrollView(Ba[0],ab)}setTimeout(function(){f.tap(E,function(b){b=a(b.target);if(!Fa&&!Va){b=b.closest(".dw-cal-day",this);b.hasClass("dw-cal-day-v")&&p.call(b[0])}});a(".dw-cal-btn",l).on("touchstart mousedown keydown",function(b){var c=a(this);if(b.type!=="keydown"){b.preventDefault();b=d(b,this)}else b=b.keyCode===32;if(!va&&b&&!c.hasClass("dwb-d")){va=true;c.hasClass("dw-cal-prev-m")?na():c.hasClass("dw-cal-next-m")?F():
c.hasClass("dw-cal-prev-y")?P(c):c.hasClass("dw-cal-next-y")&&la(c);a(m).on("mouseup.dwbtn",function(){a(m).off(".dwbtn");va=false})}}).on("touchend touchcancel keyup",function(){va=false});a(".dw-cal-tab",l).on("touchstart click",function(b){var c=a(this);if(d(b,this)&&!c.hasClass("dw-sel")){za=c.attr("data-control");a(".dw-cal-pnl",l).removeClass("dw-cal-p-in").addClass("dw-cal-pnl-h");a(".dw-cal-tab",l).removeClass(hb).removeAttr("aria-selected").find(".dw-i").removeClass(ib);c.addClass(hb).attr("aria-selected",
"true").find(".dw-i").addClass(ib);ia[za].removeClass("dw-cal-pnl-h").addClass("dw-cal-p-in");if(za==="calendar"){X=f.getDate(true);(X.getFullYear()!==Ea.getFullYear()||X.getMonth()!==Ea.getMonth()||X.getDate()!==Ea.getDate())&&C(X)}else{Ea=f.getDate(true);f.setDate(Ea,false,0,true)}if(Ga){o(ua,true);o(Ba,true);y(v,true)}f.trigger("onTabChange",[za])}});if(Ga){f.tap(a(".dw-cal-month",l),function(){ua.hasClass("dw-cal-v")||u(v);u(Ba);o(ua)});f.tap(a(".dw-cal-year",l),function(){ua.hasClass("dw-cal-v")||
ya.scroll(Ia);Ba.hasClass("dw-cal-v")||u(v);u(ua);o(Ba)});f.tap(a(".dw-cal-month-s",l),function(){!K.scrolled&&!a(this).hasClass("dwb-d")&&f.navigate(j.getDate(aa,a(this).attr("data-val"),1))});f.tap(a(".dw-cal-year-s",l),function(){if(!ya.scrolled){X=j.getDate(a(this).attr("data-val"),ba,1);f.navigate(new Date(J.constrain(X,B,ta)))}});f.tap(ua,function(){if(!ya.scrolled){o(ua);y(v)}});f.tap(Ba,function(){if(!K.scrolled){o(Ba);y(v)}})}},300);Da?r.addClass("dw-cal-liq"):a(".dw-cal",l).width(ob||280*
ha);j.calendarHeight&&a(".dw-cal-anim-c",l).height(j.calendarHeight);if(j.swipe){var Ca,N,$,O,Q,R,V,ca,ka,qa=j.liveSwipe,Ua=w.requestAnimationFrame||function(a){a()},La=w.cancelAnimationFrame||Ya,Aa=function(a){if(!ka&&!Fa){db=true;Va=false;ka=true;O=new Date;I=q;bb=M(a,"X");Sa=M(a,"Y")}},Ja=function(){R=ka=false;if(ca){ca=false;La(N);$=false;Ca=sa?Ta-Sa:cb-bb;Q=new Date-O;V=(Q<300&&Math.abs(Ca)>50?Ca<0?-ga:ga:Math.round((q-I)/b))*Oa;V>0&&j.getDate(aa,ba-V-pa,1)>=B?G(aa,ba-V,"prev",V):V<0&&j.getDate(aa,
ba-V+ha-pa-1,1)<=ta?G(aa,ba-V,"next",-V):qa&&W(I,200)}},Na=function(a){Fa&&a.preventDefault();if(ka){cb=M(a,"X");Ta=M(a,"Y");Ca=sa?Ta-Sa:cb-bb;if(!ca&&!R)if(Math.abs(Ca)>7)Va=ca=true;else if(!f.scrollLock&&!sa&&Math.abs(Ta-Sa)>10){Va=R=true;a.type==="touchmove"&&E.trigger("touchend")}ca&&a.preventDefault();if(ca&&qa&&!$){$=true;N=Ua(Ra)}}},Ra=function(){W(I+Ca);$=false};E.on("touchstart",Aa).on("touchmove",Na).on("touchend touchcancel",Ja).on("mousedown",function(b){if(!db){Aa(b);a(m).on("mousemove.dwsw",
Na).on("mouseup.dwsw",function(){Ja();a(m).off(".dwsw")})}db=false})}},onShow:function(){if(ia.calendar){Q(aa,ba);f.trigger("onMonthLoaded",[aa,ba])}},onPosition:function(c,d,h){var e,g,L,t=0,q=0,k=0;if(Da){nb&&E.height("");Ha.height("");Y.width("")}b&&(L=b);if(b=Math.round(Math.round(parseInt(E.css(sa?"height":"width")))/ha)){l.removeClass("mbsc-cal-m mbsc-cal-l");b>1024?l.addClass("mbsc-cal-l"):b>640&&l.addClass("mbsc-cal-m")}if(Ja&&(ja||Da)||gb){a(".dw-cal-pnl",l).removeClass("dw-cal-pnl-h");a.each(ia,
function(a,b){e=b.outerWidth();t=Math.max(t,e);q=Math.max(q,b.outerHeight());k=k+e});if(Ja||gb&&k>(n[0].innerWidth||n.innerWidth())){g=true;za=a(".dw-cal-tabs .dw-sel",l).attr("data-control");S.addClass("dw-cal-tabbed")}else{za="calendar";q=t="";S.removeClass("dw-cal-tabbed");Ha.css({width:"",height:""})}}if(Da&&nb){f._isFullScreen=true;g&&Ha.height(ia.calendar.outerHeight());c=S.outerHeight();h>=c&&E.height(h-c+E.outerHeight());q=Math.max(q,ia.calendar.outerHeight())}if(g){Ha.css({width:Da?"":t,
height:q});b=Math.round(Math.round(parseInt(E.css(sa?"height":"width")))/ha)}if(b){if(Ma){U=j.maxMonthWidth>a(".dw-cal-btnw-m",l).width()?j.monthNamesShort:j.monthNames;for(i=0;i<ha;++i)a(oa[i]).text(U[j.getMonth(j.getDate(aa,ba-pa+i,1))])}Y[sa?"height":"width"](b);if(Ga){h=ua[sa?"height":"width"]();a.extend(ya.settings,{contSize:h,snap:h,minScroll:(2-eb)*h,maxScroll:-h});a.extend(K.settings,{contSize:h,snap:h,minScroll:-h,maxScroll:-h});ya.refresh();K.refresh();ua.hasClass("dw-cal-v")&&ya.scroll(Ia)}if(Da&&
!ja&&L){L=I/L;I=L*b;W(I,0)}}if(g){a(".dw-cal-pnl",l).addClass("dw-cal-pnl-h");ia[za].removeClass("dw-cal-pnl-h")}f.trigger("onCalResize",[]);ja=false},onHide:function(){ra=[];ba=aa=za=null;Fa=true;if(Ga&&ya&&K){ya.destroy();K.destroy()}},onValidated:function(){var a,b,c;b=f.getDate(true);if(Z)a="calendar";else for(c in f.order)c&&f.order[c]===i&&(a=/mdy/.test(c)?"date":"time");f.trigger("onSetDate",[{date:b,control:a}]);C(b);Z=false}});return O}})(jQuery,window,document);(function(a,w){var m=a.mobiscroll,k=m.util,g=k.constrain,A=k.jsPrefix,J=k.prefix,s=k.has3d,x=k.getCoord,M=k.getPosition,d=k.testTouch,N=k.isNumeric,qa=k.isString,f=a.extend,ka=window.requestAnimationFrame||function(a){a()},ca=window.cancelAnimationFrame||function(){},ma={speedUnit:0.0022,timeUnit:0.8,axis:"Y",momentum:!0,elastic:!0};m.classes.ScrollView=function(k,Q,V){function r(b){if(jQuery.mobiscroll.multiInst&&d(b,this)&&!l&&("mousedown"==b.type&&b.preventDefault(),H&&H.removeClass("mbsc-btn-a"),
i=!1,H=a(b.target).closest(".mbsc-btn",this),H.length&&!H.hasClass("mbsc-btn-d")&&(i=!0,R=setTimeout(function(){H.addClass("mbsc-btn-a")},100)),l=!0,S=!1,K.scrolled=n,e=x(b,"X"),ja=x(b,"Y"),da=e,P=la=na=0,Z=new Date,I=+M(v,U)||0,p(I,1),"mousedown"===b.type))a(document).on("mousemove",C).on("mouseup",G)}function C(a){if(l){da=x(a,"X");X=x(a,"Y");na=da-e;la=X-ja;P=U?la:na;if(i&&(5<Math.abs(la)||5<Math.abs(na)))clearTimeout(R),H.removeClass("mbsc-btn-a"),i=!1;!S&&5<Math.abs(P)&&(K.scrolled=!0,Y||(Y=
!0,E=ka(ea)));U||(K.scrolled?a.preventDefault():7<Math.abs(la)&&(S=!0,h.trigger("touchend")))}}function ea(){D.snap&&D.maxSnapScroll&&(P=g(P,-b,b));p(g(I+P,O-u,z+u));Y=!1}function G(d){if(l){var h;h=new Date-Z;ca(E);Y=!1;if(!S&&K.scrolled){D.momentum&&s&&300>h&&(h=P/h,P=Math.max(Math.abs(P),h*h/D.speedUnit)*(0>P?-1:1));D.snap&&D.maxSnapScroll&&(P=g(P,-b,b));c=Math.round((I+P)/b);o=g(c*b,O,z);if(q){if(0>P)for(h=q.length-1;0<=h;h--){if(Math.abs(o)+F>=q[h].breakpoint){c=h;fa=2;o=q[h].snap2;break}}else if(0<=
P)for(h=0;h<q.length;h++)if(Math.abs(o)<=q[h].breakpoint){c=h;fa=1;o=q[h].snap1;break}o=g(o,O,z)}p(o,D.time||(oa<O||oa>z?200:Math.max(200,Math.abs(o-oa)*D.timeUnit)))}i&&(clearTimeout(R),H.addClass("mbsc-btn-a"),setTimeout(function(){H.removeClass("mbsc-btn-a")},100),!S&&!K.scrolled&&W("onBtnTap",[H]));"mouseup"==d.type&&a(document).off("mousemove",C).off("mouseup",G);l=!1}}function p(a,b){oa=a;T=v[0].style;s?(T[A+"Transform"]="translate3d("+(U?"0,"+a+"px,":a+"px,0,")+"0)",T[A+"Transition"]=J+"transform "+
Math.round(b||0)+"ms ease-out"):T[y]=a+"px";n=!0;setTimeout(function(){n=false},b||0)}function W(b,c){var d;c.push(K);a.each([Q],function(a,h){h&&h[b]&&(d=h[b].apply(k,c))});return d}var H,R,F,na,la,P,y,o,u,da,X,i,z,O,S,l,n,E,Y,b,q,I,Z,e,ja,T,v,U,K=this,oa=0,c=0,fa=1,D=Q,h=a(k);K.scrolled=!1;K.scroll=function(c,d){c=N(c)?Math.round(c/b)*b:Math.ceil((a(c,k).length?Math.round(v.offset()[y]-a(c,k).offset()[y]):oa)/b)*b;p(g(c,O,z),d)};K.refresh=function(){var a;F=D.contSize===w?U?h.height():h.width():
D.contSize;O=D.minScroll===w?U?F-v.height():F-v.width():D.minScroll;z=D.maxScroll===w?0:D.maxScroll;!U&&D.rtl&&(a=z,z=-O,O=-a);qa(D.snap)&&(q=[],v.find(D.snap).each(function(){var a=U?this.offsetTop:this.offsetLeft,b=U?this.offsetHeight:this.offsetWidth;q.push({breakpoint:a+b/2,snap1:-a,snap2:F-a-b})}));b=N(D.snap)?D.snap:1;u=D.elastic?N(D.snap)?b:N(D.elastic)?D.elastic:0:0;K.scroll(D.snap?q?q[c]["snap"+fa]:c*b:oa)};K.init=function(a){K.settings=D={};f(Q,a);f(D,m.defaults,ma,Q);y=(U="Y"==D.axis)?
"top":"left";v=D.moveElement||h.children().eq(0);K.refresh();h.on("touchstart mousedown",r).on("touchmove",C).on("touchend touchcancel",G);k.addEventListener&&k.addEventListener("click",function(a){K.scrolled&&(a.stopPropagation(),a.preventDefault())},!0)};K.destroy=function(){h.off("touchstart mousedown",r).off("touchmove",C).off("touchend touchcancel",G);K=null};K.getInst=function(){return K};V||K.init(Q)};m.presetShort("scrollview","ScrollView",!1)})(jQuery);(function(a,w){var m=a.mobiscroll,k=m.datetime,g=new Date,A={startYear:g.getFullYear()-100,endYear:g.getFullYear()+1,separator:" ",dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now"},J=function(g){function x(a,b,c){return i[b]!==w?+a[i[b]]:c!==w?c:z[b](I)}function M(a,b,c,d){a.push({values:c,keys:b,label:d})}function d(a,b,c,d){return Math.min(d,Math.floor(a/
b)*b+c)}function N(a){if(null===a)return a;var b=x(a,"h",0);return o.getDate(x(a,"y"),x(a,"m"),x(a,"d",1),x(a,"a",0)?b+12:b,x(a,"i",0),x(a,"s",0))}function J(a,b){var c,d,e=!1,g=!1,i=0,q=0;if(f(a))return a;a<T&&(a=T);a>v&&(a=v);d=c=a;if(2!==b)for(e=f(c);!e&&c<v;)c=new Date(c.getTime()+864E5),e=f(c),i++;if(1!==b)for(g=f(d);!g&&d>T;)d=new Date(d.getTime()-864E5),g=f(d),q++;return 1===b&&e?c:2===b&&g?d:q<i&&g?d:c}function f(a){return a<T||a>v?!1:ka(a,S)?!0:ka(a,O)?!1:!0}function ka(a,b){var c,d,e;if(b)for(d=
0;d<b.length;d++)if(c=b[d],e=c+"",!c.start)if(c.getTime){if(a.getFullYear()==c.getFullYear()&&a.getMonth()==c.getMonth()&&a.getDate()==c.getDate())return!0}else if(e.match(/w/i)){if(e=+e.replace("w",""),e==a.getDay())return!0}else if(e=e.split("/"),e[1]){if(e[0]-1==a.getMonth()&&e[1]==a.getDate())return!0}else if(e[0]==a.getDate())return!0;return!1}function ca(a,b,c,d,e,g,f){var i,q,k;if(a)for(i=0;i<a.length;i++)if(q=a[i],k=q+"",!q.start)if(q.getTime)o.getYear(q)==b&&o.getMonth(q)==c&&(g[o.getDay(q)-
1]=f);else if(k.match(/w/i)){k=+k.replace("w","");for(W=k-d;W<e;W+=7)0<=W&&(g[W]=f)}else k=k.split("/"),k[1]?k[0]-1==c&&(g[k[1]-1]=f):g[k[0]-1]=f}function ma(c,g,f,i,q,k,l,m,n){var I,r,u,p,s,x,D,z,A,v,C,T,U,F,E,K,N,H,M={},J={h:Z,i:e,s:ja,a:1},O=o.getDate(q,k,l),G=["a","h","i","s"];c&&(a.each(c,function(a,b){if(b.start&&(b.apply=!1,I=b.d,r=I+"",u=r.split("/"),I&&(I.getTime&&q==o.getYear(I)&&k==o.getMonth(I)&&l==o.getDay(I)||!r.match(/w/i)&&(u[1]&&l==u[1]&&k==u[0]-1||!u[1]&&l==u[0])||r.match(/w/i)&&
O.getDay()==+r.replace("w",""))))b.apply=!0,M[O]=!0}),a.each(c,function(c,e){C=F=U=0;T=w;D=x=!0;E=!1;if(e.start&&(e.apply||!e.d&&!M[O])){p=e.start.split(":");s=e.end.split(":");for(v=0;3>v;v++)p[v]===w&&(p[v]=0),s[v]===w&&(s[v]=59),p[v]=+p[v],s[v]=+s[v];p.unshift(11<p[0]?1:0);s.unshift(11<s[0]?1:0);b&&(12<=p[1]&&(p[1]-=12),12<=s[1]&&(s[1]-=12));for(v=0;v<g;v++)if(da[v]!==w){z=d(p[v],J[G[v]],P[G[v]],y[G[v]]);A=d(s[v],J[G[v]],P[G[v]],y[G[v]]);H=N=K=0;b&&1==v&&(K=p[0]?12:0,N=s[0]?12:0,H=da[0]?12:0);
x||(z=0);D||(A=y[G[v]]);if((x||D)&&z+K<da[v]+H&&da[v]+H<A+N)E=!0;da[v]!=z&&(x=!1);da[v]!=A&&(D=!1)}if(!n)for(v=g+1;4>v;v++)0<p[v]&&(U=J[f]),s[v]<y[G[v]]&&(F=J[f]);E||(z=d(p[g],J[f],P[f],y[f])+U,A=d(s[g],J[f],P[f],y[f])-F,x&&(C=0>z?0:z>y[f]?a(".dw-li",m).length:$(m,z)+0),D&&(T=0>A?0:A>y[f]?a(".dw-li",m).length:$(m,A)+1));if(x||D||E)n?a(".dw-li",m).slice(C,T).addClass("dw-v"):a(".dw-li",m).slice(C,T).removeClass("dw-v")}}))}function $(b,c){return a(".dw-li",b).index(a('.dw-li[data-val="'+c+'"]',b))}
function Q(a){var b,c=[];if(null===a||a===w)return a;for(b in i)c[i[b]]=z[b](a);return c}function V(a){var b,c,d,e=[];if(a){for(b=0;b<a.length;b++)if(c=a[b],c.start&&c.start.getTime)for(d=new Date(c.start);d<=c.end;)e.push(new Date(d.getFullYear(),d.getMonth(),d.getDate())),d.setDate(d.getDate()+1);else e.push(c);return e}return a}var r=a(this),C={},ea;if(r.is("input")){switch(r.attr("type")){case "date":ea="yy-mm-dd";break;case "datetime":ea="yy-mm-ddTHH:ii:ssZ";break;case "datetime-local":ea="yy-mm-ddTHH:ii:ss";
break;case "month":ea="yy-mm";C.dateOrder="mmyy";break;case "time":ea="HH:ii:ss"}var G=r.attr("min"),r=r.attr("max");G&&(C.minDate=k.parseDate(ea,G));r&&(C.maxDate=k.parseDate(ea,r))}var p,W,H,R,F,na,la,P,y,G=a.extend({},g.settings),o=a.extend(g.settings,m.datetime.defaults,A,C,G),u=0,da=[],C=[],X=[],i={},z={y:function(a){return o.getYear(a)},m:function(a){return o.getMonth(a)},d:function(a){return o.getDay(a)},h:function(a){a=a.getHours();a=b&&12<=a?a-12:a;return d(a,Z,U,c)},i:function(a){return d(a.getMinutes(),
e,K,fa)},s:function(a){return d(a.getSeconds(),ja,oa,D)},a:function(a){return Y&&11<a.getHours()?1:0}},O=o.invalid,S=o.valid,G=o.preset,l=o.dateOrder,n=o.timeWheels,E=l.match(/D/),Y=n.match(/a/i),b=n.match(/h/),q="datetime"==G?o.dateFormat+o.separator+o.timeFormat:"time"==G?o.timeFormat:o.dateFormat,I=new Date,r=o.steps||{},Z=r.hour||o.stepHour||1,e=r.minute||o.stepMinute||1,ja=r.second||o.stepSecond||1,r=r.zeroBased,T=o.minDate||new Date(o.startYear,0,1),v=o.maxDate||new Date(o.endYear,11,31,23,
59,59),U=r?0:T.getHours()%Z,K=r?0:T.getMinutes()%e,oa=r?0:T.getSeconds()%ja,c=Math.floor(((b?11:23)-U)/Z)*Z+U,fa=Math.floor((59-K)/e)*e+K,D=Math.floor((59-K)/e)*e+K;ea=ea||q;if(G.match(/date/i)){a.each(["y","m","d"],function(a,b){p=l.search(RegExp(b,"i"));-1<p&&X.push({o:p,v:b})});X.sort(function(a,b){return a.o>b.o?1:-1});a.each(X,function(a,b){i[b.v]=a});r=[];for(W=0;3>W;W++)if(W==i.y){u++;R=[];H=[];F=o.getYear(T);na=o.getYear(v);for(p=F;p<=na;p++)H.push(p),R.push((l.match(/yy/i)?p:(p+"").substr(2,
2))+(o.yearSuffix||""));M(r,H,R,o.yearText)}else if(W==i.m){u++;R=[];H=[];for(p=0;12>p;p++)F=l.replace(/[dy]/gi,"").replace(/mm/,(9>p?"0"+(p+1):p+1)+(o.monthSuffix||"")).replace(/m/,p+1+(o.monthSuffix||"")),H.push(p),R.push(F.match(/MM/)?F.replace(/MM/,'<span class="dw-mon">'+o.monthNames[p]+"</span>"):F.replace(/M/,'<span class="dw-mon">'+o.monthNamesShort[p]+"</span>"));M(r,H,R,o.monthText)}else if(W==i.d){u++;R=[];H=[];for(p=1;32>p;p++)H.push(p),R.push((l.match(/dd/i)&&10>p?"0"+p:p)+(o.daySuffix||
""));M(r,H,R,o.dayText)}C.push(r)}if(G.match(/time/i)){la=!0;X=[];a.each(["h","i","s","a"],function(a,b){a=n.search(RegExp(b,"i"));-1<a&&X.push({o:a,v:b})});X.sort(function(a,b){return a.o>b.o?1:-1});a.each(X,function(a,b){i[b.v]=u+a});r=[];for(W=u;W<u+4;W++)if(W==i.h){u++;R=[];H=[];for(p=U;p<(b?12:24);p+=Z)H.push(p),R.push(b&&0===p?12:n.match(/hh/i)&&10>p?"0"+p:p);M(r,H,R,o.hourText)}else if(W==i.i){u++;R=[];H=[];for(p=K;60>p;p+=e)H.push(p),R.push(n.match(/ii/)&&10>p?"0"+p:p);M(r,H,R,o.minuteText)}else if(W==
i.s){u++;R=[];H=[];for(p=oa;60>p;p+=ja)H.push(p),R.push(n.match(/ss/)&&10>p?"0"+p:p);M(r,H,R,o.secText)}else W==i.a&&(u++,G=n.match(/A/),M(r,[0,1],G?[o.amText.toUpperCase(),o.pmText.toUpperCase()]:[o.amText,o.pmText],o.ampmText));C.push(r)}g.getVal=function(a){return g._hasValue||a?N(g.getArrayVal(a)):null};g.setDate=function(a,b,c,d,e){g.setArrayVal(Q(a),b,e,d,c)};g.getDate=g.getVal;g.format=q;g.order=i;g.handlers.now=function(){g.setDate(new Date,!1,0.3,!0,!0)};g.buttons.now={text:o.nowText,handler:"now"};
O=V(O);S=V(S);T=N(Q(T));v=N(Q(v));P={y:T.getFullYear(),m:0,d:1,h:U,i:K,s:oa,a:0};y={y:v.getFullYear(),m:11,d:31,h:c,i:fa,s:D,a:1};return{wheels:C,headerText:o.headerText?function(){return k.formatDate(q,N(g.getArrayVal(!0)),o)}:!1,formatResult:function(a){return k.formatDate(ea,N(a),o)},parseValue:function(a){return Q(a?k.parseDate(ea,a,o):o.defaultValue||new Date)},validate:function(b,c,d,e){var c=J(N(g.getArrayVal(!0)),e),f=Q(c),q=x(f,"y"),k=x(f,"m"),m=!0,n=!0;a.each("y,m,d,a,h,i,s".split(","),
function(c,d){if(i[d]!==w){var e=P[d],g=y[d],I=31,p=x(f,d),t=a(".dw-ul",b).eq(i[d]);if(d=="d"){g=I=o.getMaxDayOfMonth(q,k);E&&a(".dw-li",t).each(function(){var b=a(this),c=b.data("val"),d=o.getDate(q,k,c).getDay(),c=l.replace(/[my]/gi,"").replace(/dd/,(c<10?"0"+c:c)+(o.daySuffix||"")).replace(/d/,c+(o.daySuffix||""));a(".dw-i",b).html(c.match(/DD/)?c.replace(/DD/,'<span class="dw-day">'+o.dayNames[d]+"</span>"):c.replace(/D/,'<span class="dw-day">'+o.dayNamesShort[d]+"</span>"))})}m&&T&&(e=z[d](T));
n&&v&&(g=z[d](v));if(d!="y"){var r=$(t,e),s=$(t,g);a(".dw-li",t).removeClass("dw-v").slice(r,s+1).addClass("dw-v");d=="d"&&a(".dw-li",t).removeClass("dw-h").slice(I).addClass("dw-h")}p<e&&(p=e);p>g&&(p=g);m&&(m=p==e);n&&(n=p==g);if(d=="d"){e=o.getDate(q,k,1).getDay();g={};ca(O,q,k,e,I,g,1);ca(S,q,k,e,I,g,0);a.each(g,function(b,c){c&&a(".dw-li",t).eq(b).removeClass("dw-v")})}}});la&&a.each(["a","h","i","s"],function(c,d){var m=x(f,d),l=x(f,"d"),n=a(".dw-ul",b).eq(i[d]);i[d]!==w&&(ma(O,c,d,f,q,k,l,
n,0),ma(S,c,d,f,q,k,l,n,1),da[c]=+g.getValidCell(m,n,e).val)});g._tempWheelArray=f}}};a.each(["date","time","datetime"],function(a,g){m.presets.scroller[g]=J})})(jQuery);(function(a,w,m,k){var g=a.mobiscroll,A=a.extend,J=g.util,s=g.datetime,x=g.presets.scroller,M={firstSelectDay:0,labelsShort:"Yrs,Mths,Days,Hrs,Mins,Secs".split(","),fromText:"Start",toText:"End",eventText:"event",eventsText:"events"};g.presetShort("calendar");x.calendar=function(d){function m(b){if(b){if(o[b])return o[b];var d=a('<div style="background-color:'+b+';"></div>').appendTo("body"),g=(w.getComputedStyle?getComputedStyle(d[0]):d[0].style).backgroundColor.replace(/rgb|rgba|\(|\)|\s/g,"").split(","),
g=130<0.299*g[0]+0.587*g[1]+0.114*g[2]?"#000":"#fff";d.remove();return o[b]=g}}function qa(a){return a.sort(function(a,b){var d=a.d||a.start,e=b.d||b.start,d=!d.getTime?0:a.start&&a.end&&a.start.toDateString()!==a.end.toDateString()?1:d.getTime(),e=!e.getTime?0:b.start&&b.end&&b.start.toDateString()!==b.end.toDateString()?1:e.getTime();return d-e})}function f(b){var d;d=a(".dw-cal-c",r).outerHeight();var g=b.outerHeight(),f=b.outerWidth(),e=b.offset().top-a(".dw-cal-c",r).offset().top,i=2>b.closest(".dw-cal-row").index();
d=C.addClass("dw-cal-events-t").css({top:i?e+g:"0",bottom:i?"0":d-e}).addClass("dw-cal-events-v").height();C.css(i?"bottom":"top","auto").removeClass("dw-cal-events-t");W.css("max-height",d);p.refresh();p.scroll(0);i?C.addClass("dw-cal-events-b"):C.removeClass("dw-cal-events-b");a(".dw-cal-events-arr",C).css("left",b.offset().left-C.offset().left+f/2)}function ka(b,k){var l=G[b];if(l){var n,e,o,r,s,w='<ul class="dw-cal-event-list">';ea=k;k.addClass(da).find(".dw-i").addClass(i);k.hasClass(X)&&k.attr("data-hl",
"true").removeClass(X);qa(l);a.each(l,function(a,b){r=b.d||b.start;s=b.start&&b.end&&b.start.toDateString()!==b.end.toDateString();o=b.color;m(o);e=n="";r.getTime&&(n=g.datetime.formatDate((s?"MM d yy ":"")+u.timeFormat,r));b.end&&(e=g.datetime.formatDate((s?"MM d yy ":"")+u.timeFormat,b.end));var c=w,d='<li role="button" aria-label="'+b.text+(n?", "+u.fromText+" "+n:"")+(e?", "+u.toText+" "+e:"")+'" class="dw-cal-event"><div class="dw-cal-event-color" style="'+(o?"background:"+o+";":"")+'"></div>'+
(r.getTime&&!s?'<div class="dw-cal-event-time">'+g.datetime.formatDate(u.timeFormat,r)+"</div>":"")+b.text,f;if(b.start&&b.end){f=u.labelsShort;var h=Math.abs(b.end-b.start)/1E3,i=h/60,k=i/60,q=k/24,l=q/365;f='<div class="dw-cal-event-dur">'+(45>h&&Math.round(h)+" "+f[5].toLowerCase()||45>i&&Math.round(i)+" "+f[4].toLowerCase()||24>k&&Math.round(k)+" "+f[3].toLowerCase()||30>q&&Math.round(q)+" "+f[2].toLowerCase()||365>q&&Math.round(q/30)+" "+f[1].toLowerCase()||Math.round(l)+" "+f[0].toLowerCase())+
"</div>"}else f="";w=c+(d+f+"</li>")});w+="</ul>";H.html(w);d.trigger("onEventBubbleShow",[ea,C]);f(ea);d.tap(a(".dw-cal-event",H),function(e){p.scrolled||d.trigger("onEventSelect",[e,l[a(this).index()],b])});R=!0}}function ca(){C&&C.removeClass("dw-cal-events-v");ea&&(ea.removeClass(da).find(".dw-i").removeClass(i),ea.attr("data-hl")&&ea.removeAttr("data-hl").addClass(X));R=!1}function ma(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())}function $(a){n={};if(a&&a.length)for(F=0;F<a.length;F++)n[ma(a[F])]=
a[F]}function Q(){E&&ca();d.refresh()}var V,r,C,ea,G,p,W,H,R,F,na,la,P,y,o={};P=A({},d.settings);var u=A(d.settings,M,P),da="dw-sel dw-cal-day-ev",X="dw-cal-day-hl",i=u.activeClass||"",z=u.multiSelect||"week"==u.selectType,O=u.markedDisplay,S=!0===u.events||!0===u.markedText,l=0,n={},E=a.isArray(u.events),Y=E?A(!0,[],u.events):[];P=x.calbase.call(this,d);V=A({},P);if(u.selectedValues)for(F=0;F<u.selectedValues.length;F++)n[ma(u.selectedValues[F])]=u.selectedValues[F];E&&a.each(Y,function(a,d){d._id===
k&&(d._id=l++)});d.onGenMonth=function(a,f){G=d.prepareObj(Y,a,f);na=d.prepareObj(u.marked,a,f)};d.getDayProps=function(b){for(var d=z?n[b]!==k:E?b.getTime()===(new Date).setHours(0,0,0,0):k,f=na[b]?na[b][0]:!1,g=G[b]?G[b][0]:!1,e=f||g,f=f.text||(g?G[b].length+" "+(1<G[b].length?u.eventsText:u.eventText):0),g=na[b]||G[b]||[],i=e.color,l=S&&f?m(i):"",o="",p='<div class="dw-cal-day-m"'+(i?' style="background-color:'+i+";border-color:"+i+" "+i+' transparent transparent"':"")+"></div>",b=0;b<g.length;b++)g[b].icon&&
(o+='<span class="mbsc-ic mbsc-ic-'+g[b].icon+'"'+(g[b].text?"":g[b].color?' style="color:'+g[b].color+';"':"")+"></span>\n");if("bottom"==O){p='<div class="dw-cal-day-m"><div class="dw-cal-day-m-t">';for(b=0;b<g.length;b++)p+='<div class="dw-cal-day-m-c"'+(g[b].color?' style="background:'+g[b].color+';"':"")+"></div>";p+="</div></div>"}return{marked:e,selected:E?!1:d,cssClass:E&&d?"dw-cal-day-hl":"",ariaLabel:S||E?f:"",markup:S&&f?'<div class="dw-cal-day-txt-c"><div class="dw-cal-day-txt '+(u.eventTextClass||
"")+'" title="'+a("<div>"+f+"</div>").text()+'"'+(i?' style="background:'+i+";color:"+l+';text-shadow:none;"':"")+">"+o+f+"</div></div>":S&&o?'<div class="dw-cal-day-ic-c">'+o+"</div>":e?p:""}};d.addValue=function(a){n[ma(a)]=a;Q()};d.removeValue=function(a){delete n[ma(a)];Q()};d.setVal=function(a,f,g,i,e){z&&($(a),a=a?a[0]:null);d.setDate(a,f,e,i,g);Q()};d.getVal=function(a){return z?J.objectToArray(n):d.getDate(a)};d.setValues=function(a,f){d.setDate(a?a[0]:null,f);$(a);Q()};d.getValues=function(){return z?
d.getVal():[d.getDate()]};E&&(d.addEvent=function(b){var d=[],b=A(!0,[],a.isArray(b)?b:[b]);a.each(b,function(a,b){b._id===k&&(b._id=l++);Y.push(b);d.push(b._id)});Q();return d},d.removeEvent=function(b){b=a.isArray(b)?b:[b];a.each(b,function(b,d){a.each(Y,function(a,b){if(b._id===d)return Y.splice(a,1),!1})});Q()},d.getEvents=function(a){var f;return a?(a.setHours(0,0,0,0),f=d.prepareObj(Y,a.getFullYear(),a.getMonth()),f[a]?qa(f[a]):[]):Y},d.setEvents=function(b){var d=[];Y=A(!0,[],b);a.each(Y,function(a,
b){b._id===k&&(b._id=l++);d.push(b._id)});Q();return d});A(P,{highlight:!z&&!E,divergentDayChange:!z&&!E,buttons:E&&"inline"!==u.display?["cancel"]:u.buttons,parseValue:function(a){var f,g;if(z&&a){n={};a=a.split(",");for(f=0;f<a.length;f++){g=s.parseDate(d.format,a[f].replace(/^\s+|\s+$/g,""),u);n[ma(g)]=g}a=a[0]}return V.parseValue.call(this,a)},formatResult:function(a){var f,g=[];if(z){for(f in n)g.push(s.formatDate(d.format,n[f],u));return g.join(", ")}return V.formatResult.call(this,a)},onClear:function(){if(z){n=
{};d.refresh()}},onBeforeShow:function(){if(E)u.headerText=false;if(u.closeOnSelect)u.divergentDayChange=false;if(u.counter&&z)u.headerText=function(){var b=0,d=u.selectType=="week"?7:1;a.each(n,function(){b++});return b/d+" "+u.selectedText}},onMarkupReady:function(b){V.onMarkupReady.call(this,b);r=b;if(z){a(".dwv",b).attr("aria-live","off");la=A({},n)}S&&a(".dw-cal",b).addClass("dw-cal-ev");O&&a(".dw-cal",b).addClass("dw-cal-m-"+O);if(E){b.addClass("dw-cal-em");C=a('<div class="dw-cal-events '+
(u.eventBubbleClass||"")+'"><div class="dw-cal-events-arr"></div><div class="dw-cal-events-i"><div class="dw-cal-events-sc"></div></div></div>').appendTo(a(".dw-cal-c",b));W=a(".dw-cal-events-i",C);H=a(".dw-cal-events-sc",C);p=new g.classes.ScrollView(W[0]);d.tap(W,function(){p.scrolled||ca()})}},onMonthChange:function(){E&&ca()},onSelectShow:function(){E&&ca()},onMonthLoaded:function(){if(y){ka(y.d,a('.dw-cal-day-v[data-full="'+y.full+'"]:not(.dw-cal-day-diff)',r));y=false}},onDayChange:function(b){var f=
b.date,g=ma(f),k=a(b.cell),b=b.selected;if(E){ca();k.hasClass("dw-cal-day-ev")||setTimeout(function(){d.changing?y={d:g,full:k.attr("data-full")}:ka(g,k)},10)}else if(z)if(u.selectType=="week"){var e,l,m=g.getDay()-u.firstSelectDay,m=m<0?7+m:m;u.multiSelect||(n={});for(e=0;e<7;e++){l=new Date(g.getFullYear(),g.getMonth(),g.getDate()-m+e);b?delete n[l]:n[l]=l}Q()}else{e=a('.dw-cal .dw-cal-day[data-full="'+k.attr("data-full")+'"]',r);if(b){e.removeClass("dw-sel").removeAttr("aria-selected").find(".dw-i").removeClass(i);
delete n[g]}else{e.addClass("dw-sel").attr("aria-selected","true").find(".dw-i").addClass(i);n[g]=g}}if(!E&&!u.multiSelect&&u.closeOnSelect&&u.display!=="inline"){d.needsSlide=false;d.setDate(f);d.select();return false}},onCalResize:function(){R&&f(ea)},onCancel:function(){!d.live&&z&&(n=A({},la))}});return P}})(jQuery,window,document);
